<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CampusEvents - Professional Event Management Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Professional campus event management platform for universities and colleges">
<meta name="keywords" content="campus events, university events, event management, student activities">
<meta name="author" content="CampusEvents Team">

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŽ“</text></svg>">

<!-- External Libraries -->
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<!-- AOS Animation Library -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<!-- Custom Professional Styles -->
<link rel="stylesheet" href="styles.css">

<!-- Tailwind Configuration -->
<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        primary: "#22c55e",
        secondary: "#16a34a",
        accent: "#84cc16",
        success: "#10b981",
        warning: "#f59e0b",
        error: "#ef4444",
        glass: "rgba(255,255,255,0.9)",
        darkGlass: "rgba(0,0,0,0.05)",
        neon: "#22c55e",
        purple: {
          950: "#f8fafc"
        }
      },
      fontFamily: {
        'sans': ['Inter', 'system-ui', 'sans-serif']
      },
      animation: {
        'fade-in': 'fadeIn 0.5s ease-in-out',
        'slide-up': 'slideUp 0.6s ease-out',
        'bounce-gentle': 'bounceGentle 2s infinite',
        'pulse-slow': 'pulse 3s infinite',
        'float': 'float 6s ease-in-out infinite',
        'glow': 'glow 2s ease-in-out infinite alternate',
        'slide-in-left': 'slideInLeft 0.8s ease-out',
        'slide-in-right': 'slideInRight 0.8s ease-out',
        'scale-in': 'scaleIn 0.5s ease-out'
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' }
        },
        slideUp: {
          '0%': { transform: 'translateY(30px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' }
        },
        bounceGentle: {
          '0%, 100%': { transform: 'translateY(0)' },
          '50%': { transform: 'translateY(-10px)' }
        },
        float: {
          '0%, 100%': { transform: 'translateY(0px)' },
          '50%': { transform: 'translateY(-20px)' }
        },
        glow: {
          '0%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.5)' },
          '100%': { boxShadow: '0 0 40px rgba(59, 130, 246, 0.8)' }
        },
        slideInLeft: {
          '0%': { transform: 'translateX(-100px)', opacity: '0' },
          '100%': { transform: 'translateX(0)', opacity: '1' }
        },
        slideInRight: {
          '0%': { transform: 'translateX(100px)', opacity: '0' },
          '100%': { transform: 'translateX(0)', opacity: '1' }
        },
        scaleIn: {
          '0%': { transform: 'scale(0.8)', opacity: '0' },
          '100%': { transform: 'scale(1)', opacity: '1' }
        }
      },
      backdropBlur: {
        'xs': '2px'
      }
    }
  }
}
</script>

<!-- Custom Styles -->
<style>
  .gradient-text {
    background: linear-gradient(135deg, #3b82f6, #8b5cf6, #ec4899);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 200% 200%;
    animation: gradientShift 3s ease infinite;
  }
  
  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
  
  .glass-morphism {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(25px);
    border: 1px solid rgba(34, 197, 94, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }
  
  .glass-morphism-dark {
    background: rgba(0, 0, 0, 0.05);
    backdrop-filter: blur(25px);
    border: 1px solid rgba(34, 197, 94, 0.1);
  }
  
  .hover-lift {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .hover-lift:hover {
    transform: translateY(-12px) scale(1.02);
    box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.6);
  }
  
  .scroll-smooth {
    scroll-behavior: smooth;
  }
  
  /* Smooth scrolling for all elements */
  html {
    scroll-behavior: smooth;
  }
  
  /* Ensure about section within home has proper spacing */
  #home #about {
    scroll-margin-top: 100px; /* Account for fixed navbar */
  }
  
  .neon-glow {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.6);
    animation: glow 2s ease-in-out infinite alternate;
  }
  
  .particle {
    position: absolute;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.8) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    animation: float 6s ease-in-out infinite;
  }
  
  .event-card {
    background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255,255,255,0.2);
    transition: all 0.3s ease;
  }
  
  .event-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    border-color: rgba(59, 130, 246, 0.5);
  }
  
  .navbar-blur {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(34, 197, 94, 0.2);
  }
  
  /* Enhanced UI Components */
  .btn {
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-weight: 500;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .btn-primary {
    background: linear-gradient(to right, #22c55e, #16a34a);
    color: white;
    box-shadow: 0 4px 6px -1px rgba(34, 197, 94, 0.25);
  }
  
  .btn-primary:hover {
    box-shadow: 0 10px 15px -3px rgba(34, 197, 94, 0.25);
    transform: scale(1.05);
  }
  
  .btn-secondary {
    border: 1px solid rgba(34, 197, 94, 0.3);
    color: #1f2937;
    background: rgba(255, 255, 255, 0.8);
  }
  
  .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.9);
    border-color: rgba(34, 197, 94, 0.5);
  }
  
  .card {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(34, 197, 94, 0.2);
    border-radius: 0.75rem;
    padding: 1.5rem;
    transition: all 0.3s ease;
    color: #1f2937;
  }
  
  .card:hover {
    background: rgba(255, 255, 255, 0.9);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }
  
  .badge {
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
  }
  
  .badge-tech {
    background: rgba(34, 197, 94, 0.2);
    color: #16a34a;
  }
  
  .badge-cultural {
    background: rgba(132, 204, 22, 0.2);
    color: #65a30d;
  }
  
  .badge-academic {
    background: rgba(245, 158, 11, 0.2);
    color: #d97706;
  }
  
  .badge-sports {
    background: rgba(16, 185, 129, 0.2);
    color: #059669;
  }
  
  .metric-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(25px);
    border: 1px solid rgba(34, 197, 94, 0.2);
    border-radius: 0.75rem;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
    color: #1f2937;
  }
  
  .metric-card:hover {
    background: rgba(255, 255, 255, 0.95);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }
  
  .metric-value {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 0.25rem;
  }
  
  .metric-label {
    color: #6b7280;
    font-size: 0.875rem;
  }
  
  .form-group {
    margin-bottom: 1rem;
  }
  
  .form-label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: #374151;
    margin-bottom: 0.5rem;
  }
  
  .form-input {
    width: 100%;
    padding: 0.75rem;
    border-radius: 0.75rem;
    background: rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(34, 197, 94, 0.2);
    backdrop-filter: blur(10px);
    color: #1f2937;
    transition: all 0.2s ease;
  }
  
  .form-input:focus {
    outline: none;
    border-color: #22c55e;
    background: rgba(255, 255, 255, 0.95);
    box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
  }
  
  .form-input::placeholder {
    color: #9ca3af;
  }
  
  .profile-tab, .settings-tab {
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    transition: all 0.3s ease;
    color: #6b7280;
    cursor: pointer;
  }
  
  .profile-tab:hover, .settings-tab:hover {
    color: #1f2937;
    background: rgba(34, 197, 94, 0.1);
  }
  
  .profile-tab.active, .settings-tab.active {
    background: #22c55e;
    color: white;
  }
  
  .reduce-motion * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  @keyframes spin {
    to { transform: rotate(360deg); }
  }
  
  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }
  
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #3b82f6, #8b5cf6);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #2563eb, #7c3aed);
  }
  
  /* Event Name Visibility Fix */
  .event-card h3 {
    color: #000000 !important;
    font-weight: bold !important;
    font-size: 1.25rem !important;
    line-height: 1.75rem !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    margin-bottom: 0.75rem !important;
  }
</style>
</head>

<body class="bg-gradient-to-br from-white via-green-50 to-green-100 text-gray-900 font-sans scroll-smooth">

<!-- ENHANCED NAVBAR -->
<header class="fixed top-0 w-full z-50 transition-all duration-300" id="navbar">
  <nav class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <div class="flex items-center space-x-3" data-aos="fade-right">
      <div class="w-12 h-12 bg-gradient-to-r from-green-500 via-green-600 to-green-700 rounded-xl flex items-center justify-center shadow-lg">
        <i class="fas fa-graduation-cap text-white text-xl"></i>
      </div>
      <div>
        <h1 class="text-2xl font-bold gradient-text">CampusEvents</h1>
        <p class="text-xs text-black">v2.0 Pro</p>
      </div>
    </div>
    
    <!-- Desktop Navigation -->
    <div class="hidden md:flex items-center space-x-8" data-aos="fade-left">
      <button id="homeBtn" class="nav-link hover:text-green-600 transition-all duration-300 flex items-center group text-black">
        <i class="fas fa-home mr-2 group-hover:scale-110 transition-transform"></i>Home
      </button>
      <button id="eventsBtn" class="nav-link hover:text-green-600 transition-all duration-300 flex items-center group text-black">
        <i class="fas fa-calendar-alt mr-2 group-hover:scale-110 transition-transform"></i>Events
      </button>
      <button id="createBtn" class="nav-link hover:text-green-600 transition-all duration-300 flex items-center group text-black">
        <i class="fas fa-plus-circle mr-2 group-hover:scale-110 transition-transform"></i>Create
      </button>
      <button id="aboutBtn" class="nav-link hover:text-green-600 transition-all duration-300 flex items-center group text-black">
        <i class="fas fa-info-circle mr-2 group-hover:scale-110 transition-transform"></i>About
      </button>
      <div class="relative">
        <button id="accountBtn" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 px-6 py-2 rounded-full transition-all duration-300 font-medium flex items-center space-x-2 shadow-lg text-white">
          <i class="fas fa-user"></i>
          <span>Account</span>
          <i class="fas fa-chevron-down text-xs"></i>
        </button>
        <div id="userMenu" class="hidden absolute right-0 mt-2 w-48 glass-morphism rounded-xl shadow-2xl">
          <div class="py-2">
            <button id="loginBtn" class="block w-full text-left px-4 py-2 hover:bg-white/20 transition-colors text-black">
              <i class="fas fa-sign-in-alt mr-2"></i>Login
            </button>
            <button id="profileBtn" class="block w-full text-left px-4 py-2 hover:bg-white/20 transition-colors text-black">
              <i class="fas fa-user-circle mr-2"></i>Profile
            </button>
            <button id="settingsBtn" class="block w-full text-left px-4 py-2 hover:bg-white/20 transition-colors text-black">
              <i class="fas fa-cog mr-2"></i>Settings
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Mobile Menu Button -->
    <button class="md:hidden text-black" id="mobileMenuBtn" data-aos="fade-left">
      <i class="fas fa-bars text-xl"></i>
    </button>
  </nav>
  
  <!-- Mobile Navigation -->
  <div id="mobileMenu" class="hidden md:hidden glass-morphism mx-4 rounded-lg mb-4">
    <div class="px-6 py-4 space-y-3">
      <button id="mobileHomeBtn" class="block w-full text-left py-2 hover:text-primary transition-colors text-black">
        <i class="fas fa-home mr-2"></i>Home
      </button>
      <button id="mobileEventsBtn" class="block w-full text-left py-2 hover:text-primary transition-colors text-black">
        <i class="fas fa-calendar-alt mr-2"></i>Events
      </button>
      <button id="mobileCreateBtn" class="block w-full text-left py-2 hover:text-primary transition-colors text-black">
        <i class="fas fa-plus-circle mr-2"></i>Create
      </button>
      <button id="mobileAboutBtn" class="block w-full text-left py-2 hover:text-primary transition-colors text-black">
        <i class="fas fa-info-circle mr-2"></i>About
      </button>
      <button id="mobileLoginBtn" class="block w-full text-left py-2 hover:text-primary transition-colors text-black">
        <i class="fas fa-sign-in-alt mr-2"></i>Login
      </button>
    </div>
  </div>
</header>

<!-- ENHANCED HOME SECTION WITH INTEGRATED ABOUT -->
<section id="home" class="relative min-h-screen bg-gradient-to-br from-white via-green-50 to-green-100 text-gray-900 font-sans scroll-smooth">
  
  <!-- Hero Section -->
  <div class="relative min-h-screen flex items-center justify-center overflow-hidden">
    <!-- Background with Parallax Effect -->
    <div class="absolute inset-0">
      <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80"
           class="w-full h-full object-cover transform scale-110" id="heroImage">
      <div class="absolute inset-0 bg-gradient-to-br from-white/90 via-green-50/80 to-green-100/90"></div>
    </div>

    <!-- Floating Elements -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div class="absolute top-20 left-10 w-20 h-20 bg-green-500/20 rounded-full blur-xl animate-pulse-slow"></div>
      <div class="absolute top-40 right-20 w-32 h-32 bg-green-400/20 rounded-full blur-xl animate-bounce-gentle"></div>
      <div class="absolute bottom-20 left-1/4 w-16 h-16 bg-green-300/20 rounded-full blur-xl animate-pulse-slow"></div>
    </div>

    <div class="relative z-10 max-w-6xl px-6 text-center animate-slide-up">
      <div class="glass-morphism rounded-3xl p-12 shadow-2xl">
        <!-- Main Heading -->
        <div class="mb-8">
          <h2 class="text-6xl md:text-7xl font-bold mb-4">
            <span class="gradient-text">Campus</span>
            <span class="text-gray-800">Events</span>
          </h2>
          <div class="w-24 h-1 bg-gradient-to-r from-primary to-green-600 mx-auto rounded-full"></div>
        </div>
        
        <!-- Subtitle -->
        <p class="text-black text-xl md:text-2xl mb-4 font-light leading-relaxed">
          The ultimate platform for discovering, creating, and managing
        </p>
        <p class="text-black text-lg mb-12">
          campus events with professional-grade tools and seamless experience.
        </p>
        
        <!-- Live Statistics -->
        <div class="grid grid-cols-3 gap-8 mb-12">
          <div class="text-center">
            <div class="text-3xl font-bold text-primary mb-2 stat-number" id="eventsHosted">
              28+
            </div>
            <div class="text-black text-sm">Events Hosted</div>
          </div>
          <div class="text-center">
            <div class="text-3xl font-bold text-purple-400 mb-2 stat-number" id="studentsEngaged">
              1250+
            </div>
            <div class="text-black text-sm">Students Engaged</div>
          </div>
          <div class="text-center">
            <div class="text-3xl font-bold text-accent mb-2 stat-number" id="universitiesCount">
              9+
            </div>
            <div class="text-black text-sm">Universities</div>
          </div>
        </div>
        
        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row justify-center gap-6">
          <button id="heroExploreBtn" 
                  class="group px-8 py-4 bg-gradient-to-r from-primary to-green-600 rounded-full font-semibold text-lg text-white hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:scale-105">
            <i class="fas fa-rocket mr-2 group-hover:animate-bounce"></i>
            Explore Events
          </button>
          <button id="heroCreateBtn" 
                  class="px-8 py-4 border-2 border-green-500/50 rounded-full font-semibold text-lg hover:bg-green-50 hover:border-green-500 transition-all duration-300 backdrop-blur-sm text-gray-800">
            <i class="fas fa-plus-circle mr-2"></i>
            Create Event
          </button>
        </div>
        
        <!-- Features Preview -->
        <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-6 text-left">
          <div class="flex items-center space-x-3 p-4 rounded-lg bg-white/20">
            <div class="w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center">
              <i class="fas fa-calendar-check text-primary"></i>
            </div>
            <div>
              <h4 class="font-semibold text-black">Smart Scheduling</h4>
              <p class="text-black text-sm">AI-powered event planning</p>
            </div>
          </div>
          <div class="flex items-center space-x-3 p-4 rounded-lg bg-white/20">
            <div class="w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center">
              <i class="fas fa-users text-green-600"></i>
            </div>
            <div>
              <h4 class="font-semibold text-black">Community Driven</h4>
              <p class="text-black text-sm">Connect with peers</p>
            </div>
          </div>
          <div class="flex items-center space-x-3 p-4 rounded-lg bg-white/20">
            <div class="w-12 h-12 bg-accent/20 rounded-lg flex items-center justify-center">
              <i class="fas fa-chart-line text-accent"></i>
            </div>
            <div>
              <h4 class="font-semibold text-black">Analytics</h4>
              <p class="text-black text-sm">Track engagement</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
      <button id="scrollToAboutBtn" class="text-gray-600 hover:text-gray-800 transition-colors">
        <i class="fas fa-chevron-down text-2xl"></i>
      </button>
    </div>
  </div>

  <!-- About Section (Integrated) -->
  <div id="about" class="min-h-screen bg-gradient-to-br from-green-50 via-white to-green-100 pt-28 px-6">
    <div class="max-w-7xl mx-auto">
      <!-- Section Header -->
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-5xl font-bold mb-4">
          <span class="gradient-text">About</span> CampusEvents
        </h2>
        <p class="text-black text-xl max-w-3xl mx-auto">
          Empowering universities worldwide with cutting-edge event management technology
        </p>
        <div class="w-24 h-1 bg-gradient-to-r from-primary to-green-600 mx-auto mt-6 rounded-full"></div>
      </div>

      <!-- Mission Statement -->
      <div class="glass-morphism rounded-3xl p-12 mb-16 text-center" data-aos="fade-up" data-aos-delay="100">
        <h3 class="text-3xl font-bold mb-6 text-black">Our Mission</h3>
        <p class="text-black text-lg leading-relaxed max-w-4xl mx-auto">
          To revolutionize campus life by providing an intuitive, powerful platform that connects students, 
          faculty, and organizations through seamless event discovery and management. We believe every campus 
          event should be an opportunity for growth, connection, and memorable experiences.
        </p>
      </div>

      <!-- Features Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
        <div class="glass-morphism rounded-2xl p-8 hover-lift" data-aos="fade-up" data-aos-delay="200">
          <div class="w-16 h-16 bg-primary/20 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-rocket text-primary text-2xl"></i>
          </div>
          <h4 class="text-xl font-bold mb-4 text-black">Lightning Fast</h4>
          <p class="text-black">Built with modern web technologies for instant loading and smooth interactions.</p>
        </div>
        
        <div class="glass-morphism rounded-2xl p-8 hover-lift" data-aos="fade-up" data-aos-delay="300">
          <div class="w-16 h-16 bg-green-500/20 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-shield-alt text-green-600 text-2xl"></i>
          </div>
          <h4 class="text-xl font-bold mb-4 text-black">Secure & Reliable</h4>
          <p class="text-black">Enterprise-grade security with 99.9% uptime guarantee for your peace of mind.</p>
        </div>
        
        <div class="glass-morphism rounded-2xl p-8 hover-lift" data-aos="fade-up" data-aos-delay="400">
          <div class="w-16 h-16 bg-accent/20 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-mobile-alt text-accent text-2xl"></i>
          </div>
          <h4 class="text-xl font-bold mb-4 text-black">Mobile First</h4>
          <p class="text-black">Responsive design that works perfectly on all devices, from phones to desktops.</p>
        </div>
        
        <div class="glass-morphism rounded-2xl p-8 hover-lift" data-aos="fade-up" data-aos-delay="500">
          <div class="w-16 h-16 bg-success/20 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-chart-line text-success text-2xl"></i>
          </div>
          <h4 class="text-xl font-bold mb-4 text-black">Smart Analytics</h4>
          <p class="text-black">Comprehensive insights and reporting to help you understand event performance.</p>
        </div>
        
        <div class="glass-morphism rounded-2xl p-8 hover-lift" data-aos="fade-up" data-aos-delay="600">
          <div class="w-16 h-16 bg-pink-500/20 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-users text-pink-600 text-2xl"></i>
          </div>
          <h4 class="text-xl font-bold mb-4 text-black">Community Driven</h4>
          <p class="text-black">Built by students, for students, with continuous feedback from our user community.</p>
        </div>
        
        <div class="glass-morphism rounded-2xl p-8 hover-lift" data-aos="fade-up" data-aos-delay="700">
          <div class="w-16 h-16 bg-indigo-500/20 rounded-xl flex items-center justify-center mb-6">
            <i class="fas fa-cogs text-indigo-600 text-2xl"></i>
          </div>
          <h4 class="text-xl font-bold mb-4 text-black">Easy Integration</h4>
          <p class="text-black">Seamlessly integrates with existing university systems and popular calendar apps.</p>
        </div>
      </div>

      <!-- Team Section -->
      <div class="text-center mb-16" data-aos="fade-up" data-aos-delay="800">
        <h3 class="text-3xl font-bold mb-8 text-black">Built by Passionate Developers</h3>
        <p class="text-black text-lg mb-8 max-w-2xl mx-auto">
          Our team of experienced developers and designers are committed to creating the best possible experience for campus communities.
        </p>
        <button id="aboutExploreBtn" class="bg-gradient-to-r from-primary to-green-600 px-8 py-4 rounded-full font-semibold text-white hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300">
          <i class="fas fa-arrow-right mr-2"></i>
          Explore Our Platform
        </button>
      </div>

      <!-- Back to Top Button -->
      <div class="text-center pb-16" data-aos="fade-up" data-aos-delay="900">
        <button id="backToTopBtn" class="glass-morphism px-6 py-3 rounded-full hover:bg-white/30 transition-all duration-300 text-black">
          <i class="fas fa-chevron-up mr-2"></i>
          Back to Top
        </button>
      </div>
    </div>
  </div>
</section>

<!-- ENHANCED EVENTS SECTION -->
<section id="events" class="hidden min-h-screen bg-gradient-to-br from-white via-green-50 to-green-100 pt-28 px-6">
  <div class="max-w-7xl mx-auto">
    <!-- Section Header -->
    <div class="text-center mb-16" data-aos="fade-up">
      <h2 class="text-5xl font-bold mb-4">
        <span class="gradient-text">Upcoming</span> Events
      </h2>
      <p class="text-black text-xl max-w-2xl mx-auto">
        Discover amazing events happening on your campus. From tech talks to cultural festivals.
      </p>
      <div class="w-24 h-1 bg-gradient-to-r from-primary to-green-600 mx-auto mt-6 rounded-full"></div>
    </div>

    <!-- Enhanced Filter and Search -->
    <div class="mb-12 flex flex-col lg:flex-row gap-6 justify-between items-center" data-aos="fade-up" data-aos-delay="100">
      <div class="flex flex-wrap gap-3">
        <button id="filterAllBtn" class="filter-btn active px-6 py-3 rounded-full bg-gradient-to-r from-primary to-green-600 text-white font-medium transition-all duration-300 hover:scale-105">
          <i class="fas fa-globe mr-2"></i>All Events
        </button>
        <button id="filterTechBtn" class="filter-btn px-6 py-3 rounded-full glass-morphism hover:bg-white/30 transition-all duration-300 hover:scale-105 text-black">
          <i class="fas fa-laptop-code mr-2"></i>Tech
        </button>
        <button id="filterCulturalBtn" class="filter-btn px-6 py-3 rounded-full glass-morphism hover:bg-white/30 transition-all duration-300 hover:scale-105 text-black">
          <i class="fas fa-theater-masks mr-2"></i>Cultural
        </button>
        <button id="filterSportsBtn" class="filter-btn px-6 py-3 rounded-full glass-morphism hover:bg-white/30 transition-all duration-300 hover:scale-105 text-black">
          <i class="fas fa-running mr-2"></i>Sports
        </button>
        <button id="filterAcademicBtn" class="filter-btn px-6 py-3 rounded-full glass-morphism hover:bg-white/30 transition-all duration-300 hover:scale-105 text-black">
          <i class="fas fa-graduation-cap mr-2"></i>Academic
        </button>
      </div>
      
      <div class="flex gap-4">
        <div class="relative">
          <input type="text" id="searchInput" placeholder="Search events..." 
                 class="pl-12 pr-4 py-3 bg-white/80 border border-gray-300 rounded-full backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-300 w-80 text-black">
          <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-black"></i>
        </div>
        <button id="toggleViewBtn" class="px-4 py-3 glass-morphism rounded-full hover:bg-white/30 transition-colors text-black" title="Toggle View">
          <i class="fas fa-th-large" id="viewToggle"></i>
        </button>
      </div>
    </div>

    <!-- Event Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12" data-aos="fade-up" data-aos-delay="200">
      <div class="glass-morphism rounded-xl p-4 text-center">
        <div class="text-2xl font-bold text-primary" id="totalEvents">12</div>
        <div class="text-gray-400 text-sm">Total Events</div>
      </div>
      <div class="glass-morphism rounded-xl p-4 text-center">
        <div class="text-2xl font-bold text-green-400" id="upcomingEvents">8</div>
        <div class="text-gray-400 text-sm">This Week</div>
      </div>
      <div class="glass-morphism rounded-xl p-4 text-center">
        <div class="text-2xl font-bold text-purple-400" id="registeredUsers">245</div>
        <div class="text-gray-400 text-sm">Registered</div>
      </div>
      <div class="glass-morphism rounded-xl p-4 text-center">
        <div class="text-2xl font-bold text-accent" id="popularCategory">Tech</div>
        <div class="text-gray-400 text-sm">Popular</div>
      </div>
    </div>

    <!-- Events Grid -->
    <div id="eventList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16"></div>
    
    <!-- Load More Button -->
    <div class="text-center" data-aos="fade-up">
      <button id="loadMoreBtn" class="px-8 py-3 glass-morphism hover:bg-white/30 rounded-full transition-all duration-300 backdrop-blur-sm hover:scale-105 text-black">
        <i class="fas fa-plus mr-2"></i>Load More Events
      </button>
    </div>
  </div>
</section>

<!-- ENHANCED CREATE EVENT SECTION -->
<section id="create" class="hidden min-h-screen bg-gradient-to-br from-green-50 via-white to-green-100 pt-28 px-6 flex justify-center">
  <div class="max-w-2xl w-full">
    <div class="glass-morphism p-10 rounded-3xl shadow-2xl">
      <div class="text-center mb-8">
        <div class="w-16 h-16 bg-gradient-to-r from-primary to-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-calendar-plus text-white text-2xl"></i>
        </div>
        <h2 class="text-4xl font-bold mb-2">
          <span class="gradient-text">Create</span> Event
        </h2>
        <p class="text-black">Share your amazing event with the campus community</p>
      </div>

      <form id="createEventForm" class="space-y-6">
        <!-- Event Name -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Event Name *</label>
          <input id="name" required
                 class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800" 
                 placeholder="Enter event name">
        </div>

        <!-- Date and Time -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Date *</label>
            <input id="date" type="date" required
                   class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800">
          </div>
          <div class="space-y-2">
            <label class="block text-sm font-medium text-gray-700">Time *</label>
            <input id="time" type="time" required
                   class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800">
          </div>
        </div>

        <!-- Venue -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Venue *</label>
          <input id="venue" required
                 class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800" 
                 placeholder="Event location">
        </div>

        <!-- Category -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Category *</label>
          <select id="category" required
                  class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800"></select>
            <option value="">Select category</option>
            <option value="tech">Technology</option>
            <option value="cultural">Cultural</option>
            <option value="sports">Sports</option>
            <option value="academic">Academic</option>
            <option value="social">Social</option>
          </select>
        </div>

        <!-- Banner Image Upload -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Event Banner Image</label>
          <div class="relative">
            <!-- Image Preview Area -->
            <div id="imagePreview" class="hidden mb-4 relative">
              <img id="previewImg" src="" alt="Event banner preview" class="w-full h-48 object-cover rounded-xl border border-gray-300">
              <button type="button" id="removeImageBtn" class="absolute top-2 right-2 w-8 h-8 bg-red-500/80 hover:bg-red-500 rounded-full flex items-center justify-center transition-colors">
                <i class="fas fa-times text-white text-sm"></i>
              </button>
              <div class="absolute bottom-2 left-2 bg-black/50 backdrop-blur-sm rounded-lg px-3 py-1">
                <span id="imageInfo" class="text-white text-xs"></span>
              </div>
            </div>
            
            <!-- Upload Area -->
            <div id="uploadArea" class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-primary/50 transition-colors cursor-pointer bg-white/50 hover:bg-white/70">
              <input type="file" id="bannerImage" accept="image/*" class="hidden">
              <div class="space-y-4">
                <div class="w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto">
                  <i class="fas fa-image text-primary text-2xl"></i>
                </div>
                <div>
                  <p class="text-gray-700 font-medium mb-2">Upload Event Banner</p>
                  <p class="text-gray-600 text-sm mb-4">Drag and drop an image here, or click to browse</p>
                  <button type="button" id="chooseImageBtn" class="btn btn-secondary">
                    <i class="fas fa-upload mr-2"></i>Choose Image
                  </button>
                </div>
                <div class="text-xs text-gray-500">
                  Supported formats: JPG, PNG, GIF (Max 5MB)
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Description -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Description *</label>
          <textarea id="desc" required rows="4"
                    class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 resize-none text-gray-800" 
                    placeholder="Describe your event..."></textarea>
        </div>

        <!-- Capacity -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Expected Attendees</label>
          <input id="capacity" type="number" min="1" max="10000"
                 class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800" 
                 placeholder="Expected number of attendees">
        </div>

        <!-- Contact Info -->
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Contact Email *</label>
          <input id="contact" type="email" required
                 class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800" 
                 placeholder="organizer@university.edu">
        </div>

        <!-- Error/Success Message -->
        <div id="msg" class="hidden p-4 rounded-xl text-center font-medium"></div>

        <!-- Submit Button -->
        <button type="submit" 
                class="w-full bg-gradient-to-r from-primary to-green-600 py-4 rounded-xl font-semibold text-lg text-white hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:scale-[1.02] flex items-center justify-center"></button>
          <i class="fas fa-paper-plane mr-2"></i>
          <span id="submitText">Create Event</span>
          <div id="submitLoading" class="loading ml-2 hidden"></div>
        </button>
      </form>
    </div>
  </div>
</section>



<!-- ENHANCED LOGIN SECTION -->
<section id="login" class="hidden min-h-screen bg-gradient-to-br from-green-50 via-white to-green-100 pt-28 px-6 flex justify-center items-center">
  <div class="max-w-md w-full">
    <div class="glass-morphism p-10 rounded-3xl shadow-2xl">
      <div class="text-center mb-8">
        <div class="w-16 h-16 bg-gradient-to-r from-primary to-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-user text-white text-2xl"></i>
        </div>
        <h2 class="text-3xl font-bold mb-2 text-black">Welcome Back</h2>
        <p class="text-black">Sign in to your CampusEvents account</p>
      </div>

      <form id="loginForm" class="space-y-6">
        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Email Address</label>
          <input id="loginEmail" type="email" required
                 class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 text-gray-800" 
                 placeholder="your.email@university.edu">
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700">Password</label>
          <div class="relative">
            <input id="loginPassword" type="password" required
                   class="w-full p-4 rounded-xl bg-white/80 border border-gray-300 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/90 transition-all duration-200 pr-12 text-gray-800" 
                   placeholder="Enter your password">
            <button type="button" id="togglePasswordBtn" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700">
              <i class="fas fa-eye" id="passwordToggle"></i>
            </button>
          </div>
        </div>

        <div class="flex items-center justify-between">
          <label class="flex items-center">
            <input type="checkbox" class="rounded bg-white/80 border-gray-300 text-primary focus:ring-primary">
            <span class="ml-2 text-sm text-gray-600">Remember me</span>
          </label>
          <a href="#" class="text-sm text-primary hover:text-green-600 transition-colors">Forgot password?</a>
        </div>

        <button type="submit" 
                class="w-full bg-gradient-to-r from-primary to-green-600 py-4 rounded-xl font-semibold text-lg text-white hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:scale-[1.02]">
          <i class="fas fa-sign-in-alt mr-2"></i>
          Sign In
        </button>
      </form>

      <div class="mt-8 text-center">
        <p class="text-black mb-4">Don't have an account?</p>
        <button id="showSignupBtn" class="text-primary hover:text-green-600 font-medium transition-colors">
          Create Account <i class="fas fa-arrow-right ml-1"></i>
        </button>
      </div>

      <!-- Social Login -->
      <div class="mt-8">
        <div class="relative">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-black">Or continue with</span>
          </div>
        </div>
        
        <div class="mt-6 grid grid-cols-2 gap-3">
          <button class="w-full inline-flex justify-center py-3 px-4 rounded-xl bg-white/80 hover:bg-white/90 transition-colors border border-gray-300 text-gray-700">
            <i class="fab fa-google text-xl"></i>
          </button>
          <button class="w-full inline-flex justify-center py-3 px-4 rounded-xl bg-white/80 hover:bg-white/90 transition-colors border border-gray-300 text-gray-700">
            <i class="fab fa-microsoft text-xl"></i>
          </button>
        </div>
      </div>
      
      <!-- Debug Test Button (Remove in production) -->
      <div class="mt-4 text-center">
        <button id="testConnectionBtn" class="text-xs text-gray-500 hover:text-gray-600 transition-colors">
          Test Server Connection
        </button>
      </div>
    </div>
  </div>
</section>

<!-- NEW PROFILE SECTION -->
<section id="profile" class="hidden min-h-screen bg-gradient-to-br from-green-50 via-white to-green-100 pt-28 px-6">
  <div class="max-w-4xl mx-auto">
    <!-- Profile Header -->
    <div class="glass-morphism rounded-3xl p-8 mb-8" data-aos="fade-up">
      <div class="flex flex-col md:flex-row items-center gap-8">
        <div class="relative">
          <div class="w-32 h-32 bg-gradient-to-r from-primary to-green-600 rounded-full flex items-center justify-center text-4xl font-bold text-white">
            JD
          </div>
          <button class="absolute bottom-0 right-0 w-10 h-10 bg-accent rounded-full flex items-center justify-center hover:scale-110 transition-transform">
            <i class="fas fa-camera text-white text-sm"></i>
          </button>
        </div>
        
        <div class="text-center md:text-left flex-1">
          <h2 class="text-3xl font-bold mb-2 text-black">John Doe</h2>
          <p class="text-black mb-4">Computer Science Student â€¢ Event Organizer</p>
          <div class="flex flex-wrap gap-2 justify-center md:justify-start">
            <span class="badge badge-tech">
              <i class="fas fa-code mr-1"></i>Developer
            </span>
            <span class="badge badge-cultural">
              <i class="fas fa-star mr-1"></i>Top Organizer
            </span>
            <span class="badge badge-academic">
              <i class="fas fa-graduation-cap mr-1"></i>Senior
            </span>
          </div>
        </div>
        
        <div class="flex gap-3">
          <button class="btn btn-primary">
            <i class="fas fa-edit mr-2"></i>Edit Profile
          </button>
          <button class="btn btn-secondary">
            <i class="fas fa-share-alt mr-2"></i>Share
          </button>
        </div>
      </div>
    </div>

    <!-- Profile Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8" data-aos="fade-up" data-aos-delay="100">
      <div class="metric-card">
        <div class="w-12 h-12 bg-primary/20 rounded-lg flex items-center justify-center mx-auto mb-3">
          <i class="fas fa-calendar-plus text-primary text-xl"></i>
        </div>
        <div class="metric-value text-primary">12</div>
        <div class="metric-label">Events Created</div>
      </div>
      
      <div class="metric-card">
        <div class="w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mx-auto mb-3">
          <i class="fas fa-ticket-alt text-green-400 text-xl"></i>
        </div>
        <div class="metric-value text-green-400">47</div>
        <div class="metric-label">Events Attended</div>
      </div>
      
      <div class="metric-card">
        <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mx-auto mb-3">
          <i class="fas fa-users text-purple-400 text-xl"></i>
        </div>
        <div class="metric-value text-purple-400">1.2K</div>
        <div class="metric-label">Connections</div>
      </div>
      
      <div class="metric-card">
        <div class="w-12 h-12 bg-accent/20 rounded-lg flex items-center justify-center mx-auto mb-3">
          <i class="fas fa-star text-accent text-xl"></i>
        </div>
        <div class="metric-value text-accent">4.9</div>
        <div class="metric-label">Rating</div>
      </div>
    </div>

    <!-- Profile Content Tabs -->
    <div class="glass-morphism rounded-2xl p-6" data-aos="fade-up" data-aos-delay="200">
      <div class="flex flex-wrap gap-4 mb-6 border-b border-gray-300 pb-4">
        <button id="profileEventsTab" class="profile-tab active px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-calendar mr-2"></i>My Events
        </button>
        <button id="profileActivityTab" class="profile-tab px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-clock mr-2"></i>Recent Activity
        </button>
        <button id="profileAchievementsTab" class="profile-tab px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-trophy mr-2"></i>Achievements
        </button>
        <button id="profileReviewsTab" class="profile-tab px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-star mr-2"></i>Reviews
        </button>
      </div>

      <!-- My Events Tab -->
      <div id="profile-events" class="profile-tab-content">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="card">
            <div class="flex items-center justify-between mb-4">
              <h4 class="font-bold text-gray-800">AI Workshop Series</h4>
              <span class="badge badge-tech">Upcoming</span>
            </div>
            <p class="text-gray-600 text-sm mb-3">3-day intensive workshop on machine learning</p>
            <div class="flex items-center justify-between text-sm text-gray-600">
              <span><i class="fas fa-users mr-1"></i>89/150 registered</span>
              <span><i class="fas fa-calendar mr-1"></i>Dec 28, 2024</span>
            </div>
          </div>
          
          <div class="card">
            <div class="flex items-center justify-between mb-4">
              <h4 class="font-bold text-gray-800">Tech Meetup</h4>
              <span class="badge badge-cultural">Completed</span>
            </div>
            <p class="text-gray-600 text-sm mb-3">Monthly networking event for developers</p>
            <div class="flex items-center justify-between text-sm text-gray-600">
              <span><i class="fas fa-star mr-1"></i>4.8 rating</span>
              <span><i class="fas fa-calendar mr-1"></i>Nov 15, 2024</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Activity Tab -->
      <div id="profile-activity" class="profile-tab-content hidden">
        <div class="space-y-4">
          <div class="flex items-center space-x-4 p-4 bg-white/50 rounded-lg">
            <div class="w-10 h-10 bg-green-500/20 rounded-full flex items-center justify-center">
              <i class="fas fa-plus text-green-600"></i>
            </div>
            <div class="flex-1">
              <p class="font-medium text-gray-800">Created "AI Workshop Series"</p>
              <p class="text-gray-600 text-sm">2 hours ago</p>
            </div>
          </div>
          
          <div class="flex items-center space-x-4 p-4 bg-white/50 rounded-lg">
            <div class="w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center">
              <i class="fas fa-ticket-alt text-blue-600"></i>
            </div>
            <div class="flex-1">
              <p class="font-medium text-gray-800">Registered for "Startup Pitch Competition"</p>
              <p class="text-gray-600 text-sm">1 day ago</p>
            </div>
          </div>
          
          <div class="flex items-center space-x-4 p-4 bg-white/50 rounded-lg">
            <div class="w-10 h-10 bg-purple-500/20 rounded-full flex items-center justify-center">
              <i class="fas fa-star text-purple-600"></i>
            </div>
            <div class="flex-1">
              <p class="font-medium text-gray-800">Received 5-star review for "Tech Meetup"</p>
              <p class="text-gray-600 text-sm">3 days ago</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Achievements Tab -->
      <div id="profile-achievements" class="profile-tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="card text-center">
            <div class="w-16 h-16 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-trophy text-accent text-2xl"></i>
            </div>
            <h4 class="font-bold mb-2">Event Master</h4>
            <p class="text-gray-400 text-sm">Organized 10+ successful events</p>
          </div>
          
          <div class="card text-center">
            <div class="w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-users text-primary text-2xl"></i>
            </div>
            <h4 class="font-bold mb-2">Community Builder</h4>
            <p class="text-gray-400 text-sm">Connected 1000+ students</p>
          </div>
          
          <div class="card text-center">
            <div class="w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4">
              <i class="fas fa-star text-green-400 text-2xl"></i>
            </div>
            <h4 class="font-bold mb-2">Top Rated</h4>
            <p class="text-gray-400 text-sm">Maintained 4.9+ rating</p>
          </div>
        </div>
      </div>

      <!-- Reviews Tab -->
      <div id="profile-reviews" class="profile-tab-content hidden">
        <div class="space-y-6">
          <div class="card">
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-sm font-bold">
                  AS
                </div>
                <div>
                  <p class="font-medium">Alice Smith</p>
                  <div class="flex items-center space-x-1">
                    <div class="flex text-yellow-400">
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                    </div>
                    <span class="text-gray-400 text-sm">5.0</span>
                  </div>
                </div>
              </div>
              <span class="text-gray-400 text-sm">2 days ago</span>
            </div>
            <p class="text-gray-300">"Excellent event organization! The AI workshop was incredibly well-structured and informative. John's attention to detail made the experience seamless."</p>
          </div>
          
          <div class="card">
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center text-sm font-bold">
                  MJ
                </div>
                <div>
                  <p class="font-medium">Mike Johnson</p>
                  <div class="flex items-center space-x-1">
                    <div class="flex text-yellow-400">
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                      <i class="fas fa-star text-xs"></i>
                    </div>
                    <span class="text-gray-400 text-sm">5.0</span>
                  </div>
                </div>
              </div>
              <span class="text-gray-400 text-sm">1 week ago</span>
            </div>
            <p class="text-gray-300">"Amazing networking opportunities and great speaker lineup. The venue was perfect and everything ran on time. Highly recommend!"</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- NEW SETTINGS SECTION -->
<section id="settings" class="hidden min-h-screen bg-gradient-to-br from-green-50 via-white to-green-100 pt-28 px-6">
  <div class="max-w-4xl mx-auto">
    <!-- Settings Header -->
    <div class="text-center mb-12" data-aos="fade-up">
      <h2 class="text-4xl font-bold mb-4">
        <span class="gradient-text">Account</span> Settings
      </h2>
      <p class="text-black text-lg">Manage your preferences and account information</p>
    </div>

    <!-- Settings Navigation -->
    <div class="glass-morphism rounded-2xl p-6 mb-8" data-aos="fade-up" data-aos-delay="100">
      <div class="flex flex-wrap gap-4 border-b border-gray-300 pb-4 mb-6">
        <button id="settingsGeneralTab" class="settings-tab active px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-user mr-2"></i>General
        </button>
        <button id="settingsNotificationsTab" class="settings-tab px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-bell mr-2"></i>Notifications
        </button>
        <button id="settingsPrivacyTab" class="settings-tab px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-shield-alt mr-2"></i>Privacy
        </button>
        <button id="settingsAppearanceTab" class="settings-tab px-4 py-2 rounded-lg transition-colors">
          <i class="fas fa-palette mr-2"></i>Appearance
        </button>
      </div>

      <!-- General Settings -->
      <div id="settings-general" class="settings-tab-content">
        <div class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="form-group">
              <label class="form-label">First Name</label>
              <input type="text" class="form-input" value="John" placeholder="Enter first name">
            </div>
            <div class="form-group">
              <label class="form-label">Last Name</label>
              <input type="text" class="form-input" value="Doe" placeholder="Enter last name">
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Email Address</label>
            <input type="email" class="form-input" value="john.doe@university.edu" placeholder="Enter email">
          </div>
          
          <div class="form-group">
            <label class="form-label">Bio</label>
            <textarea class="form-input" rows="4" placeholder="Tell us about yourself...">Computer Science student passionate about organizing tech events and building communities.</textarea>
          </div>
          
          <div class="form-group">
            <label class="form-label">University</label>
            <select class="form-input">
              <option>Select University</option>
              <option selected>MIT</option>
              <option>Stanford University</option>
              <option>Harvard University</option>
              <option>UC Berkeley</option>
            </select>
          </div>
          
          <div class="flex justify-end">
            <button onclick="saveGeneralSettings()" class="btn btn-primary">
              <i class="fas fa-save mr-2"></i>Save Changes
            </button>
          </div>
        </div>
      </div>

      <!-- Notification Settings -->
      <div id="settings-notifications" class="settings-tab-content hidden">
        <div class="space-y-6">
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">Event Reminders</h4>
              <p class="text-gray-400 text-sm">Get notified about upcoming events you're registered for</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" checked onchange="saveNotificationSettings()">
              <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
            </label>
          </div>
          
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">New Event Notifications</h4>
              <p class="text-gray-400 text-sm">Be the first to know about new events in your categories</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" checked onchange="saveNotificationSettings()">
              <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
            </label>
          </div>
          
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">Email Digest</h4>
              <p class="text-gray-400 text-sm">Weekly summary of events and activities</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" onchange="saveNotificationSettings()">
              <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
            </label>
          </div>
          
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">Marketing Communications</h4>
              <p class="text-gray-400 text-sm">Updates about new features and platform news</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" onchange="saveNotificationSettings()">
              <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
            </label>
          </div>
        </div>
      </div>

      <!-- Privacy Settings -->
      <div id="settings-privacy" class="settings-tab-content hidden">
        <div class="space-y-6">
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">Profile Visibility</h4>
              <p class="text-gray-400 text-sm">Control who can see your profile information</p>
            </div>
            <select class="form-input w-auto" onchange="savePrivacySettings()">
              <option>Public</option>
              <option selected>University Only</option>
              <option>Private</option>
            </select>
          </div>
          
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">Event History</h4>
              <p class="text-gray-400 text-sm">Show events you've attended on your profile</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" checked onchange="savePrivacySettings()">
              <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
            </label>
          </div>
          
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">Contact Information</h4>
              <p class="text-gray-400 text-sm">Allow other users to see your contact details</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" onchange="savePrivacySettings()">
              <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
            </label>
          </div>
          
          <div class="p-4 bg-red-500/10 border border-red-500/20 rounded-lg">
            <h4 class="font-medium text-red-400 mb-2">Danger Zone</h4>
            <p class="text-gray-400 text-sm mb-4">These actions cannot be undone</p>
            <div class="flex gap-3">
              <button onclick="exportUserData()" class="px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors">
                Export Data
              </button>
              <button onclick="deleteUserAccount()" class="px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors">
                Delete Account
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Appearance Settings -->
      <div id="settings-appearance" class="settings-tab-content hidden">
        <div class="space-y-6">
          <div class="p-4 bg-white/5 rounded-lg">
            <h4 class="font-medium mb-4">Theme Preference</h4>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div onclick="switchTheme('dark')" class="p-4 border-2 border-primary rounded-lg cursor-pointer">
                <div class="w-full h-20 bg-gradient-to-br from-slate-900 to-purple-900 rounded mb-3"></div>
                <p class="text-center font-medium">Dark (Current)</p>
              </div>
              <div onclick="switchTheme('light')" class="p-4 border-2 border-white/20 rounded-lg cursor-pointer hover:border-white/40">
                <div class="w-full h-20 bg-gradient-to-br from-gray-100 to-gray-300 rounded mb-3"></div>
                <p class="text-center font-medium">Light</p>
              </div>
              <div onclick="switchTheme('auto')" class="p-4 border-2 border-white/20 rounded-lg cursor-pointer hover:border-white/40">
                <div class="w-full h-20 bg-gradient-to-br from-slate-900 to-gray-100 rounded mb-3"></div>
                <p class="text-center font-medium">Auto</p>
              </div>
            </div>
          </div>
          
          <div class="p-4 bg-white/5 rounded-lg">
            <h4 class="font-medium mb-4">Accent Color</h4>
            <div class="flex gap-3">
              <div onclick="switchAccentColor('blue')" class="w-8 h-8 bg-blue-500 rounded-full cursor-pointer ring-2 ring-blue-500 ring-offset-2 ring-offset-slate-900"></div>
              <div onclick="switchAccentColor('purple')" class="w-8 h-8 bg-purple-500 rounded-full cursor-pointer hover:ring-2 hover:ring-purple-500 hover:ring-offset-2 hover:ring-offset-slate-900"></div>
              <div onclick="switchAccentColor('green')" class="w-8 h-8 bg-green-500 rounded-full cursor-pointer hover:ring-2 hover:ring-green-500 hover:ring-offset-2 hover:ring-offset-slate-900"></div>
              <div onclick="switchAccentColor('red')" class="w-8 h-8 bg-red-500 rounded-full cursor-pointer hover:ring-2 hover:ring-red-500 hover:ring-offset-2 hover:ring-offset-slate-900"></div>
              <div onclick="switchAccentColor('yellow')" class="w-8 h-8 bg-yellow-500 rounded-full cursor-pointer hover:ring-2 hover:ring-yellow-500 hover:ring-offset-2 hover:ring-offset-slate-900"></div>
            </div>
          </div>
          
          <div class="flex items-center justify-between p-4 bg-white/5 rounded-lg">
            <div>
              <h4 class="font-medium">Reduced Motion</h4>
              <p class="text-gray-400 text-sm">Minimize animations and transitions</p>
            </div>
            <label class="relative inline-flex items-center cursor-pointer">
              <input type="checkbox" class="sr-only peer" onchange="toggleReducedMotion()">
              <div class="w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
// Enhanced event data with more properties
let events = [
  {
    name: "AI & Machine Learning Workshop",
    date: "2024-12-28",
    time: "14:00",
    venue: "Tech Auditorium",
    category: "tech",
    desc: "Hands-on workshop covering latest AI trends and practical ML implementations",
    capacity: 150,
    registered: 89,
    rating: 4.8,
    organizer: "CS Department",
    image: "https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=400&h=250&fit=crop"
  },
  {
    name: "Cultural Fusion Night",
    date: "2024-12-30",
    time: "19:00",
    venue: "Main Stage",
    category: "cultural",
    desc: "Celebrate diversity with music, dance, and food from around the world",
    capacity: 500,
    registered: 342,
    rating: 4.9,
    organizer: "Cultural Society",
    image: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=250&fit=crop"
  },
  {
    name: "Startup Pitch Competition",
    date: "2025-01-05",
    time: "10:00",
    venue: "Business Hall",
    category: "academic",
    desc: "Present your innovative startup ideas to industry experts and investors",
    capacity: 200,
    registered: 156,
    rating: 4.7,
    organizer: "Entrepreneurship Club",
    image: "https://images.unsplash.com/photo-1556761175-b413da4baf72?w=400&h=250&fit=crop"
  },
  {
    name: "Inter-College Basketball Tournament",
    date: "2025-01-08",
    time: "16:00",
    venue: "Sports Complex",
    category: "sports",
    desc: "Annual basketball championship featuring teams from 12 colleges",
    capacity: 800,
    registered: 623,
    rating: 4.6,
    organizer: "Sports Department",
    image: "https://images.unsplash.com/photo-1546519638-68e109498ffc?w=400&h=250&fit=crop"
  },
  {
    name: "Cybersecurity Bootcamp",
    date: "2025-01-12",
    time: "09:00",
    venue: "Computer Lab",
    category: "tech",
    desc: "Intensive 3-day bootcamp on ethical hacking and cybersecurity fundamentals",
    capacity: 50,
    registered: 47,
    rating: 4.9,
    organizer: "InfoSec Club",
    image: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?w=400&h=250&fit=crop"
  },
  {
    name: "Art Exhibition: Digital Dreams",
    date: "2025-01-15",
    time: "11:00",
    venue: "Art Gallery",
    category: "cultural",
    desc: "Showcase of digital art and interactive installations by student artists",
    capacity: 300,
    registered: 178,
    rating: 4.5,
    organizer: "Fine Arts Department",
    image: "https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=400&h=250&fit=crop"
  }
];

let currentFilter = 'all';
let viewMode = 'grid'; // grid or list

// Initialize page when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  console.log('ðŸš€ DOM Content Loaded - Initializing CampusEvents...');
  
  // Test basic functionality immediately
  console.log('Testing basic functions...');
  if (typeof show === 'function') {
    console.log('âœ… show function is available');
  } else {
    console.error('âŒ show function is NOT available');
  }
  
  if (typeof toggleUserMenu === 'function') {
    console.log('âœ… toggleUserMenu function is available');
  } else {
    console.error('âŒ toggleUserMenu function is NOT available');
  }
  
  try {
    if (typeof AOS !== 'undefined') {
      AOS.init({
        duration: 800,
        easing: 'ease-in-out',
        once: true
      });
      console.log('âœ… AOS initialized successfully');
    } else {
      console.warn('âš ï¸ AOS library not loaded, skipping animation initialization');
    }
  } catch (error) {
    console.error('âŒ AOS initialization failed:', error);
  }
  
  // Initialize navbar scroll effect
  try {
    window.addEventListener('scroll', handleNavbarScroll);
    console.log('âœ… Navbar scroll handler added');
  } catch (error) {
    console.error('âŒ Failed to add navbar scroll handler:', error);
  }
  
  // Check authentication status
  try {
    checkAuthStatus();
    console.log('âœ… Auth status check initiated');
  } catch (error) {
    console.error('âŒ Auth status check failed:', error);
  }
  
  // Render initial events and display static stats
  try {
    if (typeof renderEvents === 'function') {
      renderEvents();
    } else {
      console.warn('âš ï¸ renderEvents function not found');
    }
    
    if (typeof updateEventStats === 'function') {
      updateEventStats();
    } else {
      console.warn('âš ï¸ updateEventStats function not found');
    }
    
    if (typeof displayStaticStats === 'function') {
      displayStaticStats();
    } else {
      console.warn('âš ï¸ displayStaticStats function not found');
    }
    
    console.log('âœ… Events and stats rendered successfully');
  } catch (error) {
    console.error('âŒ Failed to render events/stats:', error);
  }
  
  // Add particles to home section
  try {
    createParticles();
    console.log('âœ… Particles created successfully');
  } catch (error) {
    console.error('âŒ Failed to create particles:', error);
  }
  
  // Initialize drag and drop for image upload
  try {
    initializeDragAndDrop();
    console.log('âœ… Drag and drop initialized');
  } catch (error) {
    console.error('âŒ Failed to initialize drag and drop:', error);
  }
  
  // Add search input event listener
  try {
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
      searchInput.addEventListener('input', handleSearch);
      console.log('âœ… Search input handler added');
    }
  } catch (error) {
    console.error('âŒ Failed to add search handler:', error);
  }
  
  // Load saved theme and preferences
  try {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      switchTheme(savedTheme);
    }
    
    const savedAccentColor = localStorage.getItem('accentColor');
    if (savedAccentColor) {
      switchAccentColor(savedAccentColor);
    }
    
    const reducedMotion = localStorage.getItem('reducedMotion') === 'true';
    if (reducedMotion) {
      document.documentElement.classList.add('reduce-motion');
    }
    console.log('âœ… Theme and preferences loaded');
  } catch (error) {
    console.error('âŒ Failed to load theme/preferences:', error);
  }
  
  // Add navbar event listeners
  try {
    console.log('ðŸš€ Adding navbar event listeners...');
    
    // Desktop navigation buttons
    const homeBtn = document.getElementById('homeBtn');
    const eventsBtn = document.getElementById('eventsBtn');
    const createBtn = document.getElementById('createBtn');
    const aboutBtn = document.getElementById('aboutBtn');
    const accountBtn = document.getElementById('accountBtn');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    
    if (homeBtn) {
      homeBtn.addEventListener('click', function(e) {
        e.preventDefault();
        console.log('Home clicked - event listener triggered');
        scrollToSection('home');
      });
      console.log('âœ… Home button listener added');
    } else {
      console.error('âŒ Home button not found');
    }
    
    if (eventsBtn) {
      eventsBtn.addEventListener('click', function(e) {
        e.preventDefault();
        console.log('Events clicked - event listener triggered');
        show('events');
      });
      console.log('âœ… Events button listener added');
    } else {
      console.error('âŒ Events button not found');
    }
    
    if (createBtn) {
      createBtn.addEventListener('click', function(e) {
        e.preventDefault();
        console.log('Create clicked - event listener triggered');
        show('create');
      });
      console.log('âœ… Create button listener added');
    } else {
      console.error('âŒ Create button not found');
    }
    
    if (aboutBtn) {
      aboutBtn.addEventListener('click', function(e) {
        e.preventDefault();
        console.log('About clicked - event listener triggered');
        scrollToSection('about');
      });
      console.log('âœ… About button listener added');
    } else {
      console.error('âŒ About button not found');
    }
    
    if (accountBtn) {
      accountBtn.addEventListener('click', function(e) {
        e.preventDefault();
        console.log('Account clicked - event listener triggered');
        toggleUserMenu();
      });
      console.log('âœ… Account button listener added');
    } else {
      console.error('âŒ Account button not found');
    }
    
    if (mobileMenuBtn) {
      mobileMenuBtn.addEventListener('click', function() {
        console.log('Mobile menu clicked');
        toggleMobileMenu();
      });
      console.log('âœ… Mobile menu button listener added');
    } else {
      console.error('âŒ Mobile menu button not found');
    }
    
    // User menu buttons
    const loginBtn = document.getElementById('loginBtn');
    const profileBtn = document.getElementById('profileBtn');
    const settingsBtn = document.getElementById('settingsBtn');
    
    if (loginBtn) {
      loginBtn.addEventListener('click', function() {
        console.log('Login clicked');
        show('login');
      });
      console.log('âœ… Login button listener added');
    }
    
    if (profileBtn) {
      profileBtn.addEventListener('click', function() {
        console.log('Profile clicked');
        show('profile');
      });
      console.log('âœ… Profile button listener added');
    }
    
    if (settingsBtn) {
      settingsBtn.addEventListener('click', function() {
        console.log('Settings clicked');
        show('settings');
      });
      console.log('âœ… Settings button listener added');
    }
    
    // Mobile navigation buttons
    const mobileHomeBtn = document.getElementById('mobileHomeBtn');
    const mobileEventsBtn = document.getElementById('mobileEventsBtn');
    const mobileCreateBtn = document.getElementById('mobileCreateBtn');
    const mobileAboutBtn = document.getElementById('mobileAboutBtn');
    const mobileLoginBtn = document.getElementById('mobileLoginBtn');
    
    if (mobileHomeBtn) {
      mobileHomeBtn.addEventListener('click', function() {
        scrollToSection('home');
        toggleMobileMenu();
      });
      console.log('âœ… Mobile home button listener added');
    }
    
    if (mobileEventsBtn) {
      mobileEventsBtn.addEventListener('click', function() {
        show('events');
        toggleMobileMenu();
      });
      console.log('âœ… Mobile events button listener added');
    }
    
    if (mobileCreateBtn) {
      mobileCreateBtn.addEventListener('click', function() {
        show('create');
        toggleMobileMenu();
      });
      console.log('âœ… Mobile create button listener added');
    }
    
    if (mobileAboutBtn) {
      mobileAboutBtn.addEventListener('click', function() {
        scrollToSection('about');
        toggleMobileMenu();
      });
      console.log('âœ… Mobile about button listener added');
    }
    
    if (mobileLoginBtn) {
      mobileLoginBtn.addEventListener('click', function() {
        show('login');
        toggleMobileMenu();
      });
      console.log('âœ… Mobile login button listener added');
    }
    
    // Hero section buttons
    const heroExploreBtn = document.getElementById('heroExploreBtn');
    const heroCreateBtn = document.getElementById('heroCreateBtn');
    const scrollToAboutBtn = document.getElementById('scrollToAboutBtn');
    const aboutExploreBtn = document.getElementById('aboutExploreBtn');
    const backToTopBtn = document.getElementById('backToTopBtn');
    
    if (heroExploreBtn) {
      heroExploreBtn.addEventListener('click', function() {
        show('events');
      });
      console.log('âœ… Hero explore button listener added');
    }
    
    if (heroCreateBtn) {
      heroCreateBtn.addEventListener('click', function() {
        show('create');
      });
      console.log('âœ… Hero create button listener added');
    }
    
    if (scrollToAboutBtn) {
      scrollToAboutBtn.addEventListener('click', function() {
        scrollToSection('about');
      });
      console.log('âœ… Scroll to about button listener added');
    }
    
    if (aboutExploreBtn) {
      aboutExploreBtn.addEventListener('click', function() {
        show('events');
      });
      console.log('âœ… About explore button listener added');
    }
    
    if (backToTopBtn) {
      backToTopBtn.addEventListener('click', function() {
        scrollToSection('home');
      });
      console.log('âœ… Back to top button listener added');
    }
    
    // Filter buttons
    const filterAllBtn = document.getElementById('filterAllBtn');
    const filterTechBtn = document.getElementById('filterTechBtn');
    const filterCulturalBtn = document.getElementById('filterCulturalBtn');
    const filterSportsBtn = document.getElementById('filterSportsBtn');
    const filterAcademicBtn = document.getElementById('filterAcademicBtn');
    const toggleViewBtn = document.getElementById('toggleViewBtn');
    const loadMoreBtn = document.getElementById('loadMoreBtn');
    
    if (filterAllBtn) {
      filterAllBtn.addEventListener('click', function() {
        filterEvents('all');
      });
      console.log('âœ… Filter all button listener added');
    }
    
    if (filterTechBtn) {
      filterTechBtn.addEventListener('click', function() {
        filterEvents('tech');
      });
      console.log('âœ… Filter tech button listener added');
    }
    
    if (filterCulturalBtn) {
      filterCulturalBtn.addEventListener('click', function() {
        filterEvents('cultural');
      });
      console.log('âœ… Filter cultural button listener added');
    }
    
    if (filterSportsBtn) {
      filterSportsBtn.addEventListener('click', function() {
        filterEvents('sports');
      });
      console.log('âœ… Filter sports button listener added');
    }
    
    if (filterAcademicBtn) {
      filterAcademicBtn.addEventListener('click', function() {
        filterEvents('academic');
      });
      console.log('âœ… Filter academic button listener added');
    }
    
    if (toggleViewBtn) {
      toggleViewBtn.addEventListener('click', function() {
        toggleViewMode();
      });
      console.log('âœ… Toggle view button listener added');
    }
    
    if (loadMoreBtn) {
      loadMoreBtn.addEventListener('click', function() {
        loadMoreEvents();
      });
      console.log('âœ… Load more button listener added');
    }
    
    // Form submissions
    const createEventForm = document.getElementById('createEventForm');
    const loginForm = document.getElementById('loginForm');
    
    if (createEventForm) {
      createEventForm.addEventListener('submit', function(e) {
        addEvent(e);
      });
      console.log('âœ… Create event form listener added');
    }
    
    if (loginForm) {
      loginForm.addEventListener('submit', function(e) {
        handleLogin(e);
      });
      console.log('âœ… Login form listener added');
    }
    
    // Image upload
    const bannerImage = document.getElementById('bannerImage');
    const chooseImageBtn = document.getElementById('chooseImageBtn');
    const removeImageBtn = document.getElementById('removeImageBtn');
    const uploadArea = document.getElementById('uploadArea');
    
    if (bannerImage) {
      bannerImage.addEventListener('change', function(e) {
        handleImageUpload(e);
      });
      console.log('âœ… Banner image input listener added');
    }
    
    if (chooseImageBtn) {
      chooseImageBtn.addEventListener('click', function() {
        document.getElementById('bannerImage').click();
      });
      console.log('âœ… Choose image button listener added');
    }
    
    if (removeImageBtn) {
      removeImageBtn.addEventListener('click', function() {
        removeImage();
      });
      console.log('âœ… Remove image button listener added');
    }
    
    if (uploadArea) {
      uploadArea.addEventListener('click', function() {
        document.getElementById('bannerImage').click();
      });
      console.log('âœ… Upload area listener added');
    }
    
    // Login form elements
    const togglePasswordBtn = document.getElementById('togglePasswordBtn');
    const showSignupBtn = document.getElementById('showSignupBtn');
    const testConnectionBtn = document.getElementById('testConnectionBtn');
    
    if (togglePasswordBtn) {
      togglePasswordBtn.addEventListener('click', function() {
        togglePassword();
      });
      console.log('âœ… Toggle password button listener added');
    }
    
    if (showSignupBtn) {
      showSignupBtn.addEventListener('click', function() {
        showSignup();
      });
      console.log('âœ… Show signup button listener added');
    }
    
    if (testConnectionBtn) {
      testConnectionBtn.addEventListener('click', function() {
        testConnection();
      });
      console.log('âœ… Test connection button listener added');
    }
    
    // Profile tabs
    const profileEventsTab = document.getElementById('profileEventsTab');
    const profileActivityTab = document.getElementById('profileActivityTab');
    const profileAchievementsTab = document.getElementById('profileAchievementsTab');
    const profileReviewsTab = document.getElementById('profileReviewsTab');
    
    if (profileEventsTab) {
      profileEventsTab.addEventListener('click', function() {
        showProfileTab('events');
      });
      console.log('âœ… Profile events tab listener added');
    }
    
    if (profileActivityTab) {
      profileActivityTab.addEventListener('click', function() {
        showProfileTab('activity');
      });
      console.log('âœ… Profile activity tab listener added');
    }
    
    if (profileAchievementsTab) {
      profileAchievementsTab.addEventListener('click', function() {
        showProfileTab('achievements');
      });
      console.log('âœ… Profile achievements tab listener added');
    }
    
    if (profileReviewsTab) {
      profileReviewsTab.addEventListener('click', function() {
        showProfileTab('reviews');
      });
      console.log('âœ… Profile reviews tab listener added');
    }
    
    // Settings tabs
    const settingsGeneralTab = document.getElementById('settingsGeneralTab');
    const settingsNotificationsTab = document.getElementById('settingsNotificationsTab');
    const settingsPrivacyTab = document.getElementById('settingsPrivacyTab');
    const settingsAppearanceTab = document.getElementById('settingsAppearanceTab');
    
    if (settingsGeneralTab) {
      settingsGeneralTab.addEventListener('click', function() {
        showSettingsTab('general');
      });
      console.log('âœ… Settings general tab listener added');
    }
    
    if (settingsNotificationsTab) {
      settingsNotificationsTab.addEventListener('click', function() {
        showSettingsTab('notifications');
      });
      console.log('âœ… Settings notifications tab listener added');
    }
    
    if (settingsPrivacyTab) {
      settingsPrivacyTab.addEventListener('click', function() {
        showSettingsTab('privacy');
      });
      console.log('âœ… Settings privacy tab listener added');
    }
    
    if (settingsAppearanceTab) {
      settingsAppearanceTab.addEventListener('click', function() {
        showSettingsTab('appearance');
      });
      console.log('âœ… Settings appearance tab listener added');
    }
    
    // Event delegation for dynamic content
    document.addEventListener('click', function(e) {
      if (e.target.closest('.register-event-btn')) {
        const eventName = e.target.closest('.register-event-btn').getAttribute('data-event-name');
        registerForEvent(eventName);
      }
      
      if (e.target.closest('.share-event-btn')) {
        const eventName = e.target.closest('.share-event-btn').getAttribute('data-event-name');
        shareEvent(eventName);
      }
      
      if (e.target.closest('.add-to-calendar-btn')) {
        const eventName = e.target.closest('.add-to-calendar-btn').getAttribute('data-event-name');
        addToCalendar(eventName);
      }
    });
    
    console.log('âœ… Event delegation added for dynamic content');
    console.log('ðŸŽ‰ All navbar event listeners added successfully!');
    
  } catch (error) {
    console.error('âŒ Failed to add navbar event listeners:', error);
  }
  
  // Show home section by default
  setTimeout(() => {
    show('home');
    console.log('ðŸ  Home section displayed');
  }, 100);
  
  console.log('ðŸŽ‰ CampusEvents initialization completed');
  console.log('ðŸ’¡ You can test navbar by typing testNavbar() in console');
});

function handleNavbarScroll() {
  const navbar = document.getElementById('navbar');
  if (window.scrollY > 50) {
    navbar.classList.add('navbar-blur');
  } else {
    navbar.classList.remove('navbar-blur');
  }
}

function createParticles() {
  const homeSection = document.getElementById('home');
  for (let i = 0; i < 20; i++) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    particle.style.width = Math.random() * 10 + 5 + 'px';
    particle.style.height = particle.style.width;
    particle.style.left = Math.random() * 100 + '%';
    particle.style.top = Math.random() * 100 + '%';
    particle.style.animationDelay = Math.random() * 6 + 's';
    homeSection.appendChild(particle);
  }
}

// Static Statistics Functions
function displayStaticStats() {
  // Show static numbers without live updates
  const staticStats = {
    eventsHosted: 28,
    studentsEngaged: 1250,
    universities: 9
  };
  
  // Update stats display with static values
  const eventsElement = document.getElementById('eventsHosted');
  const studentsElement = document.getElementById('studentsEngaged');
  const universitiesElement = document.getElementById('universitiesCount');
  
  if (eventsElement) eventsElement.textContent = staticStats.eventsHosted + '+';
  if (studentsElement) studentsElement.textContent = staticStats.studentsEngaged + '+';
  if (universitiesElement) universitiesElement.textContent = staticStats.universities + '+';
}

function formatTimeAgo(timestamp) {
  const now = new Date();
  const time = new Date(timestamp);
  const diffInSeconds = Math.floor((now - time) / 1000);
  
  if (diffInSeconds < 60) return 'Just now';
  if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;
  if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;
  return `${Math.floor(diffInSeconds / 86400)}d ago`;
}

function animateCounters() {
  // Initialize static stats display
  displayStaticStats();
}

function renderEvents() {
  const container = document.getElementById("eventList");
  if (!container) return;
  
  container.innerHTML = "";
  
  let filteredEvents = events;
  if (currentFilter !== 'all') {
    filteredEvents = events.filter(e => e.category === currentFilter);
  }
  
  const searchTerm = document.getElementById('searchInput')?.value.toLowerCase() || '';
  if (searchTerm) {
    filteredEvents = filteredEvents.filter(e => 
      e.name.toLowerCase().includes(searchTerm) ||
      e.desc.toLowerCase().includes(searchTerm) ||
      e.venue.toLowerCase().includes(searchTerm)
    );
  }
  
  filteredEvents.forEach((event, index) => {
    console.log('Rendering event:', event.name); // Debug log
    const eventCard = document.createElement('div');
    eventCard.className = 'event-card rounded-2xl p-6 hover-lift';
    eventCard.setAttribute('data-aos', 'fade-up');
    eventCard.setAttribute('data-aos-delay', (index * 100).toString());
    
    const registrationPercentage = Math.round((event.registered / event.capacity) * 100);
    const isAlmostFull = registrationPercentage > 80;
    
    eventCard.innerHTML = `
      <div class="relative mb-4 overflow-hidden rounded-xl">
        <img src="${event.image}" alt="${event.name}" class="w-full h-48 object-cover transition-transform duration-300 hover:scale-110">
        <div class="absolute top-3 left-3">
          <span class="px-3 py-1 bg-${getCategoryColor(event.category)}/80 backdrop-blur-sm rounded-full text-xs font-medium">
            ${getCategoryIcon(event.category)} ${event.category.toUpperCase()}
          </span>
        </div>
        <div class="absolute top-3 right-3">
          <div class="flex items-center space-x-1 bg-black/50 backdrop-blur-sm rounded-full px-2 py-1">
            <i class="fas fa-star text-yellow-400 text-xs"></i>
            <span class="text-white text-xs">${event.rating}</span>
          </div>
        </div>
      </div>
      
      <div class="space-y-3">
        <h3 class="text-xl font-bold text-black hover:text-primary transition-colors cursor-pointer" style="color: #000000 !important; font-weight: bold !important; display: block !important;">${event.name}</h3>
        
        <div class="flex items-center justify-between text-sm text-black">
          <div class="flex items-center space-x-4">
            <span><i class="fas fa-calendar mr-1 text-primary"></i>${formatDate(event.date)}</span>
            <span><i class="fas fa-clock mr-1 text-primary"></i>${event.time}</span>
          </div>
        </div>
        
        <div class="flex items-center text-sm text-black">
          <i class="fas fa-map-marker-alt mr-2 text-primary"></i>
          <span>${event.venue}</span>
        </div>
        
        <p class="text-black text-sm line-clamp-2">${event.desc}</p>
        
        <div class="space-y-2">
          <div class="flex items-center justify-between text-sm">
            <span class="text-black">
              <i class="fas fa-users mr-1"></i>
              ${event.registered}/${event.capacity} registered
            </span>
            <span class="text-black">by ${event.organizer}</span>
          </div>
          
          <div class="w-full bg-gray-300 rounded-full h-2">
            <div class="bg-gradient-to-r from-primary to-green-600 h-2 rounded-full transition-all duration-300" 
                 style="width: ${registrationPercentage}%"></div>
          </div>
          
          ${isAlmostFull ? '<div class="text-orange-600 text-xs flex items-center"><i class="fas fa-exclamation-triangle mr-1"></i>Almost Full!</div>' : ''}
        </div>
        
        <div class="flex gap-2 pt-2">
          <button data-event-name="${event.name}" class="register-event-btn flex-1 bg-gradient-to-r from-primary to-green-600 hover:from-green-600 hover:to-green-700 py-2 px-4 rounded-lg font-medium transition-all duration-300 hover:scale-105 text-white ${isAlmostFull ? 'animate-pulse' : ''}">
            <i class="fas fa-ticket-alt mr-2"></i>Register
          </button>
          <button data-event-name="${event.name}" class="share-event-btn px-4 py-2 glass-morphism hover:bg-white/30 rounded-lg transition-colors text-black">
            <i class="fas fa-share-alt"></i>
          </button>
          <button data-event-name="${event.name}" class="add-to-calendar-btn px-4 py-2 glass-morphism hover:bg-white/30 rounded-lg transition-colors text-black">
            <i class="fas fa-calendar-plus"></i>
          </button>
        </div>
      </div>
    `;
    
    container.appendChild(eventCard);
  });
  
  // Refresh AOS
  AOS.refresh();
}

function getCategoryColor(category) {
  const colors = {
    tech: 'blue-500',
    cultural: 'purple-500',
    sports: 'green-500',
    academic: 'yellow-500',
    social: 'pink-500'
  };
  return colors[category] || 'gray-500';
}

function getCategoryIcon(category) {
  const icons = {
    tech: '<i class="fas fa-laptop-code"></i>',
    cultural: '<i class="fas fa-theater-masks"></i>',
    sports: '<i class="fas fa-running"></i>',
    academic: '<i class="fas fa-graduation-cap"></i>',
    social: '<i class="fas fa-users"></i>'
  };
  return icons[category] || '<i class="fas fa-calendar"></i>';
}

function formatDate(dateString) {
  const date = new Date(dateString);
  return date.toLocaleDateString('en-US', { 
    month: 'short', 
    day: 'numeric',
    year: 'numeric'
  });
}

function updateEventStats() {
  // Static event stats calculation
  const totalEvents = events.length;
  const upcomingEvents = events.filter(e => new Date(e.date) > new Date()).length;
  const totalRegistered = events.reduce((sum, e) => sum + e.registered, 0);
  
  const totalEventsEl = document.getElementById('totalEvents');
  const upcomingEventsEl = document.getElementById('upcomingEvents');
  const registeredUsersEl = document.getElementById('registeredUsers');
  const popularCategoryEl = document.getElementById('popularCategory');
  
  if (totalEventsEl) totalEventsEl.textContent = totalEvents;
  if (upcomingEventsEl) upcomingEventsEl.textContent = upcomingEvents;
  if (registeredUsersEl) registeredUsersEl.textContent = totalRegistered;
  if (popularCategoryEl) popularCategoryEl.textContent = 'Tech';
}

function filterEvents(category) {
  currentFilter = category;
  
  // Update active filter button
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.classList.remove('active', 'bg-gradient-to-r', 'from-primary', 'to-green-600');
    btn.classList.add('glass-morphism');
  });
  
  // Find and activate the correct button
  const activeBtn = document.getElementById(`filter${category.charAt(0).toUpperCase() + category.slice(1)}Btn`) || 
                   document.getElementById('filterAllBtn');
  
  if (activeBtn) {
    activeBtn.classList.add('active', 'bg-gradient-to-r', 'from-primary', 'to-green-600');
    activeBtn.classList.remove('glass-morphism');
  }
  
  renderEvents();
}

function addEvent(e) {
  e.preventDefault();
  
  const submitBtn = document.getElementById('submitText');
  const loading = document.getElementById('submitLoading');
  const msg = document.getElementById('msg');
  
  // Show loading state
  submitBtn.textContent = 'Creating...';
  loading.classList.remove('hidden');
  
  // Get uploaded image or use default
  const uploadedImage = document.getElementById('previewImg').src;
  const defaultImage = `https://images.unsplash.com/photo-${Math.floor(Math.random() * 1000000000)}?w=400&h=250&fit=crop`;
  
  const newEvent = {
    name: document.getElementById("name").value,
    date: document.getElementById("date").value,
    time: document.getElementById("time").value,
    venue: document.getElementById("venue").value,
    category: document.getElementById("category").value,
    desc: document.getElementById("desc").value,
    capacity: parseInt(document.getElementById("capacity").value) || 100,
    registered: 0,
    rating: 0,
    organizer: "You",
    image: uploadedImage || defaultImage
  };
  
  // Check for duplicate events
  const existingEvent = events.find(ev => 
    ev.name.toLowerCase() === newEvent.name.toLowerCase()
  );
  
  setTimeout(() => {
    if (existingEvent) {
      msg.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i>Event with this name already exists';
      msg.className = 'p-4 rounded-xl text-center font-medium bg-red-500/20 text-red-400 border border-red-500/30';
      msg.classList.remove('hidden');
    } else {
      events.unshift(newEvent);
      msg.innerHTML = '<i class="fas fa-check-circle mr-2"></i>Event created successfully!';
      msg.className = 'p-4 rounded-xl text-center font-medium bg-green-500/20 text-green-400 border border-green-500/30';
      msg.classList.remove('hidden');
      
      // Reset form and image preview
      document.querySelector('form').reset();
      resetImageUpload();
      
      // Switch to events view after a delay
      setTimeout(() => {
        show('events');
        renderEvents();
        updateEventStats();
      }, 1500);
    }
    
    // Reset button state
    submitBtn.textContent = 'Create Event';
    loading.classList.add('hidden');
    
    // Hide message after 5 seconds
    setTimeout(() => {
      msg.classList.add('hidden');
    }, 5000);
  }, 1500);
}

// Image upload handling functions
function handleImageUpload(event) {
  const file = event.target.files[0];
  if (!file) return;
  
  // Validate file type
  const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];
  if (!validTypes.includes(file.type)) {
    showNotification('Please select a valid image file (JPG, PNG, GIF)', 'error');
    return;
  }
  
  // Validate file size (5MB max)
  const maxSize = 5 * 1024 * 1024; // 5MB in bytes
  if (file.size > maxSize) {
    showNotification('Image size must be less than 5MB', 'error');
    return;
  }
  
  // Create FileReader to preview image
  const reader = new FileReader();
  reader.onload = function(e) {
    const previewImg = document.getElementById('previewImg');
    const imagePreview = document.getElementById('imagePreview');
    const uploadArea = document.getElementById('uploadArea');
    const imageInfo = document.getElementById('imageInfo');
    
    // Set image source and show preview
    previewImg.src = e.target.result;
    imagePreview.classList.remove('hidden');
    uploadArea.classList.add('hidden');
    
    // Show image info
    const sizeInMB = (file.size / (1024 * 1024)).toFixed(2);
    imageInfo.textContent = `${file.name} (${sizeInMB} MB)`;
    
    showNotification('Image uploaded successfully!', 'success');
  };
  
  reader.onerror = function() {
    showNotification('Error reading image file', 'error');
  };
  
  reader.readAsDataURL(file);
}

function removeImage() {
  resetImageUpload();
  showNotification('Image removed', 'info');
}

function resetImageUpload() {
  const previewImg = document.getElementById('previewImg');
  const imagePreview = document.getElementById('imagePreview');
  const uploadArea = document.getElementById('uploadArea');
  const bannerImageInput = document.getElementById('bannerImage');
  
  // Reset all elements
  previewImg.src = '';
  imagePreview.classList.add('hidden');
  uploadArea.classList.remove('hidden');
  bannerImageInput.value = '';
}

// Drag and drop functionality
function initializeDragAndDrop() {
  const uploadArea = document.getElementById('uploadArea');
  
  if (!uploadArea) return;
  
  // Prevent default drag behaviors
  ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
    uploadArea.addEventListener(eventName, preventDefaults, false);
  });
  
  function preventDefaults(e) {
    e.preventDefault();
    e.stopPropagation();
  }
}

function registerForEvent(eventName) {
  const event = events.find(e => e.name === eventName);
  if (event && event.registered < event.capacity) {
    event.registered++;
    renderEvents();
    updateEventStats();
    
    // Show success notification
    showNotification(`Successfully registered for ${eventName}!`, 'success');
  } else {
    showNotification('Event is full or not found!', 'error');
  }
}

function shareEvent(eventName) {
  if (navigator.share) {
    navigator.share({
      title: eventName,
      text: `Check out this amazing event: ${eventName}`,
      url: window.location.href
    });
  } else {
    // Fallback to clipboard
    navigator.clipboard.writeText(`${eventName} - ${window.location.href}`);
    showNotification('Event link copied to clipboard!', 'success');
  }
}

function addToCalendar(eventName) {
  const event = events.find(e => e.name === eventName);
  if (event) {
    const startDate = new Date(`${event.date}T${event.time}`);
    const endDate = new Date(startDate.getTime() + 2 * 60 * 60 * 1000); // 2 hours later
    
    const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(event.name)}&dates=${startDate.toISOString().replace(/[-:]/g, '').split('.')[0]}Z/${endDate.toISOString().replace(/[-:]/g, '').split('.')[0]}Z&details=${encodeURIComponent(event.desc)}&location=${encodeURIComponent(event.venue)}`;
    
    window.open(googleCalendarUrl, '_blank');
  }
}

function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.className = `fixed top-20 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 transform translate-x-full`;
  
  const colors = {
    success: 'bg-green-500/20 border-green-500/30 text-green-400',
    error: 'bg-red-500/20 border-red-500/30 text-red-400',
    info: 'bg-blue-500/20 border-blue-500/30 text-blue-400'
  };
  
  notification.className += ` ${colors[type]} border backdrop-blur-sm`;
  notification.innerHTML = `
    <div class="flex items-center space-x-2">
      <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
      <span>${message}</span>
    </div>
  `;
  
  document.body.appendChild(notification);
  
  // Animate in
  setTimeout(() => {
    notification.classList.remove('translate-x-full');
  }, 100);
  
  // Animate out and remove
  setTimeout(() => {
    notification.classList.add('translate-x-full');
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}

function toggleUserMenu() {
  console.log('toggleUserMenu called');
  const menu = document.getElementById('userMenu');
  if (menu) {
    menu.classList.toggle('hidden');
    console.log('User menu toggled');
  } else {
    console.error('User menu not found');
  }
}

function toggleMobileMenu() {
  console.log('toggleMobileMenu called');
  const menu = document.getElementById('mobileMenu');
  if (menu) {
    menu.classList.toggle('hidden');
    console.log('Mobile menu toggled');
  } else {
    console.error('Mobile menu not found');
  }
}

function toggleViewMode() {
  viewMode = viewMode === 'grid' ? 'list' : 'grid';
  const toggle = document.getElementById('viewToggle');
  toggle.className = viewMode === 'grid' ? 'fas fa-th-large' : 'fas fa-list';
  
  const container = document.getElementById('eventList');
  if (viewMode === 'list') {
    container.className = 'space-y-4 mb-16';
  } else {
    container.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16';
  }
  
  renderEvents();
}

function loadMoreEvents() {
  // Simulate loading more events
  showNotification('Loading more events...', 'info');
  
  setTimeout(() => {
    showNotification('All events loaded!', 'success');
  }, 1000);
}

function togglePassword() {
  const passwordInput = document.getElementById('loginPassword');
  const toggleIcon = document.getElementById('passwordToggle');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    toggleIcon.className = 'fas fa-eye-slash';
  } else {
    passwordInput.type = 'password';
    toggleIcon.className = 'fas fa-eye';
  }
}

// Enhanced Authentication and Account Management
let currentUser = null;
let isLoggedIn = false;

// Authentication Functions
async function handleLogin(e) {
  e.preventDefault();
  
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;
  const rememberMe = document.querySelector('input[type="checkbox"]').checked;
  
  // Show loading state
  const submitBtn = e.target.querySelector('button[type="submit"]');
  const originalText = submitBtn.innerHTML;
  submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Signing In...';
  submitBtn.disabled = true;
  
  try {
    console.log('Attempting login for email:', email);
    
    const response = await fetch('/api/auth/login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      },
      body: JSON.stringify({ email, password, rememberMe })
    });
    
    console.log('Login response status:', response.status);
    
    if (!response.ok) {
      const errorText = await response.text();
      console.error('Login failed with status:', response.status, 'Response:', errorText);
      
      try {
        const errorData = JSON.parse(errorText);
        throw new Error(errorData.message || `HTTP ${response.status}: ${response.statusText}`);
      } catch (parseError) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }
    }
    
    const result = await response.json();
    console.log('Login successful:', result);
    
    if (result.success) {
      // Store authentication data
      localStorage.setItem('authToken', result.token);
      if (rememberMe) {
        localStorage.setItem('rememberUser', 'true');
      }
      
      // Set current user
      currentUser = result.user;
      isLoggedIn = true;
      
      // Update UI
      updateAuthUI();
      showNotification('Welcome back! Login successful.', 'success');
      
      // Redirect to profile or previous page
      setTimeout(() => {
        show('profile');
      }, 1000);
      
    } else {
      showNotification(result.message || 'Login failed. Please try again.', 'error');
    }
  } catch (error) {
    console.error('Login error:', error);
    
    if (error.name === 'TypeError' && error.message.includes('fetch')) {
      showNotification('Connection error. Please check if the server is running and try again.', 'error');
    } else if (error.message.includes('NetworkError') || error.message.includes('Failed to fetch')) {
      showNotification('Network error. Please check your internet connection and try again.', 'error');
    } else {
      showNotification(error.message || 'Login failed. Please try again.', 'error');
    }
  } finally {
    // Reset button state
    submitBtn.innerHTML = originalText;
    submitBtn.disabled = false;
  }
}

async function handleSignup() {
  // Create signup modal
  const signupModal = document.createElement('div');
  signupModal.className = 'fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4';
  signupModal.innerHTML = `
    <div class="glass-morphism rounded-3xl p-8 max-w-md w-full max-h-[90vh] overflow-y-auto">
      <div class="text-center mb-6">
        <div class="w-16 h-16 bg-gradient-to-r from-primary to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fas fa-user-plus text-white text-2xl"></i>
        </div>
        <h2 class="text-3xl font-bold mb-2">Create Account</h2>
        <p class="text-gray-300">Join the CampusEvents community</p>
      </div>
      
      <form id="signupForm" class="space-y-4">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">First Name</label>
            <input id="signupFirstName" type="text" required class="w-full p-3 rounded-xl bg-white/10 border border-white/20 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/15 transition-all duration-200" placeholder="John">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-300 mb-2">Last Name</label>
            <input id="signupLastName" type="text" required class="w-full p-3 rounded-xl bg-white/10 border border-white/20 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/15 transition-all duration-200" placeholder="Doe">
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">Email Address</label>
          <input id="signupEmail" type="email" required class="w-full p-3 rounded-xl bg-white/10 border border-white/20 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/15 transition-all duration-200" placeholder="your.email@university.edu">
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">University</label>
          <select id="signupUniversity" required class="w-full p-3 rounded-xl bg-white/10 border border-white/20 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/15 transition-all duration-200">
            <option value="">Select University</option>
            <option value="MIT">MIT</option>
            <option value="Stanford University">Stanford University</option>
            <option value="Harvard University">Harvard University</option>
            <option value="UC Berkeley">UC Berkeley</option>
            <option value="Other">Other</option>
          </select>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">Password</label>
          <div class="relative">
            <input id="signupPassword" type="password" required class="w-full p-3 rounded-xl bg-white/10 border border-white/20 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/15 transition-all duration-200 pr-12" placeholder="Create a strong password">
            <button type="button" onclick="toggleSignupPassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white">
              <i class="fas fa-eye" id="signupPasswordToggle"></i>
            </button>
          </div>
          <div class="mt-2">
            <div class="text-xs text-gray-400">Password strength: <span id="passwordStrength" class="text-red-400">Weak</span></div>
            <div class="w-full bg-gray-700 rounded-full h-1 mt-1">
              <div id="passwordStrengthBar" class="bg-red-400 h-1 rounded-full transition-all duration-300" style="width: 20%"></div>
            </div>
          </div>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-300 mb-2">Confirm Password</label>
          <input id="signupConfirmPassword" type="password" required class="w-full p-3 rounded-xl bg-white/10 border border-white/20 backdrop-blur-sm focus:outline-none focus:border-primary focus:bg-white/15 transition-all duration-200" placeholder="Confirm your password">
        </div>
        
        <div class="flex items-start space-x-3">
          <input type="checkbox" id="agreeTerms" required class="mt-1 rounded bg-white/10 border-white/20 text-primary focus:ring-primary">
          <label for="agreeTerms" class="text-sm text-gray-300">
            I agree to the <a href="#" class="text-primary hover:text-purple-400">Terms of Service</a> and <a href="#" class="text-primary hover:text-purple-400">Privacy Policy</a>
          </label>
        </div>
        
        <div class="flex gap-3 pt-4">
          <button type="button" onclick="closeSignupModal()" class="flex-1 px-4 py-3 border border-white/20 rounded-xl hover:bg-white/10 transition-colors">
            Cancel
          </button>
          <button type="submit" class="flex-1 bg-gradient-to-r from-primary to-purple-600 py-3 rounded-xl font-semibold hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300">
            <span id="signupBtnText">Create Account</span>
            <i id="signupLoading" class="fas fa-spinner fa-spin ml-2 hidden"></i>
          </button>
        </div>
      </form>
    </div>
  `;
  
  document.body.appendChild(signupModal);
  
  // Add event listeners
  document.getElementById('signupForm').addEventListener('submit', handleSignupSubmit);
  document.getElementById('signupPassword').addEventListener('input', checkPasswordStrength);
  
  // Close modal on backdrop click
  signupModal.addEventListener('click', (e) => {
    if (e.target === signupModal) {
      closeSignupModal();
    }
  });
}

function closeSignupModal() {
  const modal = document.querySelector('.fixed.inset-0.bg-black\\/50');
  if (modal) {
    modal.remove();
  }
}

function toggleSignupPassword() {
  const passwordInput = document.getElementById('signupPassword');
  const toggleIcon = document.getElementById('signupPasswordToggle');
  
  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    toggleIcon.className = 'fas fa-eye-slash';
  } else {
    passwordInput.type = 'password';
    toggleIcon.className = 'fas fa-eye';
  }
}

function checkPasswordStrength() {
  const password = document.getElementById('signupPassword').value;
  const strengthText = document.getElementById('passwordStrength');
  const strengthBar = document.getElementById('passwordStrengthBar');
  
  let strength = 0;
  let strengthLabel = 'Very Weak';
  let color = 'red';
  let requirements = [];
  
  // Check password criteria (matching backend validation)
  const hasMinLength = password.length >= 8;
  const hasLowercase = /[a-z]/.test(password);
  const hasUppercase = /[A-Z]/.test(password);
  const hasNumber = /\d/.test(password);
  const hasSpecialChar = /[@$!%*?&]/.test(password);
  
  if (hasMinLength) {
    strength += 20;
  } else {
    requirements.push('8+ characters');
  }
  
  if (hasLowercase) {
    strength += 20;
  } else {
    requirements.push('lowercase letter');
  }
  
  if (hasUppercase) {
    strength += 20;
  } else {
    requirements.push('uppercase letter');
  }
  
  if (hasNumber) {
    strength += 20;
  } else {
    requirements.push('number');
  }
  
  if (hasSpecialChar) {
    strength += 20;
  } else {
    requirements.push('special character (@$!%*?&)');
  }
  
  // Determine strength label and color
  if (strength === 100) {
    strengthLabel = 'Very Strong';
    color = 'green';
  } else if (strength >= 80) {
    strengthLabel = 'Strong';
    color = 'blue';
  } else if (strength >= 60) {
    strengthLabel = 'Medium';
    color = 'yellow';
  } else if (strength >= 40) {
    strengthLabel = 'Weak';
    color = 'orange';
  } else {
    strengthLabel = 'Very Weak';
    color = 'red';
  }
  
  // Update UI
  strengthText.textContent = strengthLabel;
  strengthText.className = `text-${color}-400`;
  strengthBar.className = `bg-${color}-400 h-1 rounded-full transition-all duration-300`;
  strengthBar.style.width = `${strength}%`;
  
  // Show missing requirements
  const requirementsDiv = document.getElementById('passwordRequirements');
  if (requirementsDiv) {
    if (requirements.length > 0) {
      requirementsDiv.innerHTML = `<div class="text-xs text-red-400 mt-1">Missing: ${requirements.join(', ')}</div>`;
      requirementsDiv.classList.remove('hidden');
    } else {
      requirementsDiv.innerHTML = `<div class="text-xs text-green-400 mt-1">âœ“ All requirements met</div>`;
      requirementsDiv.classList.remove('hidden');
    }
  }
  
  return strength === 100;
}

async function handleSignupSubmit(e) {
  e.preventDefault();
  
  const formData = {
    firstName: document.getElementById('signupFirstName').value,
    lastName: document.getElementById('signupLastName').value,
    email: document.getElementById('signupEmail').value,
    university: document.getElementById('signupUniversity').value,
    password: document.getElementById('signupPassword').value,
    confirmPassword: document.getElementById('signupConfirmPassword').value
  };
  
  // Validate passwords match
  if (formData.password !== formData.confirmPassword) {
    showNotification('Passwords do not match!', 'error');
    return;
  }
  
  // Validate password strength
  const isPasswordValid = checkPasswordStrength();
  if (!isPasswordValid) {
    showNotification('Password does not meet all requirements. Please check the password strength indicator.', 'error');
    return;
  }
  
  // Validate required fields
  if (!formData.firstName.trim() || !formData.lastName.trim() || !formData.email.trim() || !formData.university || !formData.password) {
    showNotification('Please fill in all required fields.', 'error');
    return;
  }
  
  // Validate email format
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(formData.email)) {
    showNotification('Please enter a valid email address.', 'error');
    return;
  }
  
  // Show loading state
  const submitBtn = document.getElementById('signupBtnText');
  const loading = document.getElementById('signupLoading');
  submitBtn.textContent = 'Creating...';
  loading.classList.remove('hidden');
  
  try {
    console.log('Attempting registration with data:', { ...formData, password: '[HIDDEN]', confirmPassword: '[HIDDEN]' });
    
    const response = await fetch('/api/auth/register', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      },
      body: JSON.stringify({
        firstName: formData.firstName,
        lastName: formData.lastName,
        email: formData.email,
        university: formData.university,
        password: formData.password
      })
    });
    
    console.log('Registration response status:', response.status);
    
    if (!response.ok) {
      const errorText = await response.text();
      console.error('Registration failed with status:', response.status, 'Response:', errorText);
      
      try {
        const errorData = JSON.parse(errorText);
        
        // Handle specific error cases
        if (errorData.message && errorData.message.includes('User already exists')) {
          throw new Error('An account with this email address already exists. Please use a different email or try logging in.');
        }
        
        // Handle validation errors
        if (errorData.errors && Array.isArray(errorData.errors)) {
          const errorMessages = errorData.errors.map(err => err.msg).join(', ');
          throw new Error(`Registration failed: ${errorMessages}`);
        }
        
        // Handle rate limiting
        if (errorData.error && errorData.error.includes('Too many authentication attempts')) {
          throw new Error('Too many registration attempts. Please wait 15 minutes before trying again.');
        }
        
        throw new Error(errorData.message || errorData.error || `Registration failed with status ${response.status}`);
      } catch (parseError) {
        if (response.status === 429) {
          throw new Error('Too many registration attempts. Please wait 15 minutes before trying again.');
        } else if (response.status === 400) {
          throw new Error('Registration failed. Please check your information and try again.');
        }
        throw new Error(`Registration failed with status ${response.status}: ${response.statusText}`);
      }
    }
    
    const result = await response.json();
    console.log('Registration successful:', result);
    
    if (result.success) {
      showNotification('Account created successfully! Please check your email to verify your account.', 'success');
      closeSignupModal();
      
      // Pre-fill login form
      document.getElementById('loginEmail').value = formData.email;
    } else {
      showNotification(result.message || 'Registration failed. Please try again.', 'error');
    }
  } catch (error) {
    console.error('Registration error:', error);
    
    if (error.name === 'TypeError' && error.message.includes('fetch')) {
      showNotification('Connection error. Please check if the server is running and try again.', 'error');
    } else if (error.message.includes('NetworkError') || error.message.includes('Failed to fetch')) {
      showNotification('Network error. Please check your internet connection and try again.', 'error');
    } else {
      showNotification(error.message || 'Registration failed. Please try again.', 'error');
    }
  } finally {
    // Reset button state
    submitBtn.textContent = 'Create Account';
    loading.classList.add('hidden');
  }
}

function updateAuthUI() {
  const userMenuButton = document.querySelector('button[onclick="toggleUserMenu()"]');
  const userMenu = document.getElementById('userMenu');
  
  if (isLoggedIn && currentUser) {
    // Update user menu button
    userMenuButton.innerHTML = `
      <div class="w-8 h-8 bg-gradient-to-r from-primary to-purple-600 rounded-full flex items-center justify-center text-sm font-bold">
        ${currentUser.firstName.charAt(0)}${currentUser.lastName.charAt(0)}
      </div>
      <span>${currentUser.firstName}</span>
      <i class="fas fa-chevron-down text-xs"></i>
    `;
    
    // Update user menu items
    userMenu.innerHTML = `
      <div class="py-2">
        <div class="px-4 py-2 border-b border-white/10">
          <p class="font-medium">${currentUser.firstName} ${currentUser.lastName}</p>
          <p class="text-gray-400 text-sm">${currentUser.email}</p>
        </div>
        <button onclick="show('profile')" class="block w-full text-left px-4 py-2 hover:bg-white/10 transition-colors">
          <i class="fas fa-user-circle mr-2"></i>Profile
        </button>
        <button onclick="show('settings')" class="block w-full text-left px-4 py-2 hover:bg-white/10 transition-colors">
          <i class="fas fa-cog mr-2"></i>Settings
        </button>
        <button onclick="handleLogout()" class="block w-full text-left px-4 py-2 hover:bg-white/10 transition-colors text-red-400">
          <i class="fas fa-sign-out-alt mr-2"></i>Logout
        </button>
      </div>
    `;
  } else {
    // Reset to default state
    userMenuButton.innerHTML = `
      <i class="fas fa-user"></i>
      <span>Account</span>
      <i class="fas fa-chevron-down text-xs"></i>
    `;
    
    userMenu.innerHTML = `
      <div class="py-2">
        <button onclick="show('login')" class="block w-full text-left px-4 py-2 hover:bg-white/10 transition-colors">
          <i class="fas fa-sign-in-alt mr-2"></i>Login
        </button>
        <button onclick="handleSignup()" class="block w-full text-left px-4 py-2 hover:bg-white/10 transition-colors">
          <i class="fas fa-user-plus mr-2"></i>Sign Up
        </button>
      </div>
    `;
  }
}

async function handleLogout() {
  try {
    const response = await fetch('/api/auth/logout', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      }
    });
    
    // Clear local storage
    localStorage.removeItem('authToken');
    localStorage.removeItem('rememberUser');
    
    // Reset state
    currentUser = null;
    isLoggedIn = false;
    
    // Update UI
    updateAuthUI();
    showNotification('Logged out successfully', 'success');
    
    // Redirect to home
    show('home');
    
  } catch (error) {
    console.error('Logout error:', error);
    // Still clear local data even if server request fails
    localStorage.removeItem('authToken');
    localStorage.removeItem('rememberUser');
    currentUser = null;
    isLoggedIn = false;
    updateAuthUI();
    show('home');
  }
}

// Check authentication status on page load
async function checkAuthStatus() {
  const token = localStorage.getItem('authToken');
  if (token) {
    try {
      console.log('Checking auth status with token...');
      
      const response = await fetch('/api/auth/me', {
        headers: {
          'Authorization': `Bearer ${token}`,
          'Accept': 'application/json'
        }
      });
      
      console.log('Auth check response status:', response.status);
      
      if (response.ok) {
        const result = await response.json();
        console.log('Auth check successful:', result);
        
        if (result.success) {
          currentUser = result.user;
          isLoggedIn = true;
          updateAuthUI();
          console.log('User authenticated:', currentUser.firstName, currentUser.lastName);
        } else {
          // Token is invalid, clear it
          localStorage.removeItem('authToken');
          localStorage.removeItem('rememberUser');
          console.log('Auth token invalid, cleared storage');
        }
      } else {
        // Token is invalid, clear it
        localStorage.removeItem('authToken');
        localStorage.removeItem('rememberUser');
        console.log('Auth check failed, cleared storage');
      }
    } catch (error) {
      console.error('Auth verification error:', error);
      localStorage.removeItem('authToken');
      localStorage.removeItem('rememberUser');
    }
  } else {
    console.log('No auth token found');
  }
}

// Debug function to test server connection
async function testConnection() {
  try {
    console.log('Testing server connection...');
    showNotification('Testing server connection...', 'info');
    
    const response = await fetch('/api/health', {
      method: 'GET',
      headers: {
        'Accept': 'application/json'
      }
    });
    
    console.log('Health check response:', response.status, response.statusText);
    
    if (response.ok) {
      const result = await response.json();
      console.log('Health check result:', result);
      showNotification('âœ… Server connection successful!', 'success');
    } else {
      showNotification(`âŒ Server responded with ${response.status}: ${response.statusText}`, 'error');
    }
  } catch (error) {
    console.error('Connection test failed:', error);
    showNotification(`âŒ Connection failed: ${error.message}`, 'error');
  }
}

// Debug function to test if JavaScript is working
function testNavbar() {
  console.log('Navbar test function called');
  alert('JavaScript is working! Navbar functions should work now.');
  return 'JavaScript is working properly';
}

// Make functions globally available for debugging
window.show = show;
window.toggleUserMenu = toggleUserMenu;
window.toggleMobileMenu = toggleMobileMenu;
window.scrollToSection = scrollToSection;
window.testNavbar = testNavbar;

console.log('All navbar functions loaded and available globally');

function showSignup() {
  handleSignup();
}

function switchAccentColor(color) {
  document.documentElement.style.setProperty('--primary-color', `var(--${color}-500)`);
  localStorage.setItem('accentColor', color);
  showNotification(`Accent color changed to ${color}`, 'success');
  
  // Update accent color selection UI
  document.querySelectorAll('#settings-appearance .w-8.h-8').forEach(colorDiv => {
    colorDiv.classList.remove('ring-2', 'ring-offset-2', 'ring-offset-slate-900');
    colorDiv.classList.remove('ring-blue-500', 'ring-purple-500', 'ring-green-500', 'ring-red-500', 'ring-yellow-500');
  });
  
  const selectedColorDiv = document.querySelector(`#settings-appearance .bg-${color}-500`);
  if (selectedColorDiv) {
    selectedColorDiv.classList.add('ring-2', `ring-${color}-500`, 'ring-offset-2', 'ring-offset-slate-900');
  }
}

function toggleReducedMotion() {
  const isReduced = document.documentElement.classList.toggle('reduce-motion');
  localStorage.setItem('reducedMotion', isReduced);
  showNotification(`Reduced motion ${isReduced ? 'enabled' : 'disabled'}`, 'success');
}

// Enhanced show function to handle authentication checks
function show(sectionId) {
  console.log('show() called with sectionId:', sectionId);
  
  // Check if user needs to be logged in for certain sections
  if ((sectionId === 'profile' || sectionId === 'settings') && !isLoggedIn) {
    showNotification('Please log in to access this section', 'info');
    sectionId = 'login';
  }
  
  // Hide all sections (excluding 'about' since it's integrated into home)
  const sections = ['home', 'events', 'create', 'login', 'profile', 'settings'];
  sections.forEach(id => {
    const element = document.getElementById(id);
    if (element) {
      element.classList.add('hidden');
      console.log('Hidden section:', id);
    }
  });
  
  // Show selected section
  const targetSection = document.getElementById(sectionId);
  if (targetSection) {
    targetSection.classList.remove('hidden');
    window.scrollTo(0, 0);
    console.log('Showing section:', sectionId);
    
    // Load section-specific data
    if (sectionId === 'profile' && isLoggedIn) {
      loadUserProfile();
      showProfileTab('events'); // Default to events tab
    } else if (sectionId === 'settings' && isLoggedIn) {
      loadUserSettings();
    }
    
    // Refresh AOS for the new section
    setTimeout(() => {
      if (typeof AOS !== 'undefined') {
        AOS.refresh();
      }
    }, 100);
  } else {
    console.error('Target section not found:', sectionId);
  }
}

// Enhanced Profile Management Functions
async function loadUserProfile() {
  if (!isLoggedIn || !currentUser) {
    show('login');
    return;
  }
  
  try {
    const response = await fetch('/api/users/profile', {
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      }
    });
    
    const result = await response.json();
    if (result.success) {
      updateProfileDisplay(result.data);
    }
  } catch (error) {
    console.error('Error loading profile:', error);
    showNotification('Error loading profile data', 'error');
  }
}

function updateProfileDisplay(userData) {
  // Update profile header
  const profileInitials = document.querySelector('#profile .w-32.h-32');
  const profileName = document.querySelector('#profile h2');
  const profileBio = document.querySelector('#profile p.text-gray-300');
  
  if (profileInitials) {
    profileInitials.textContent = `${userData.firstName.charAt(0)}${userData.lastName.charAt(0)}`;
  }
  
  if (profileName) {
    profileName.textContent = `${userData.firstName} ${userData.lastName}`;
  }
  
  if (profileBio) {
    profileBio.textContent = userData.bio || 'Event enthusiast and community builder';
  }
  
  // Update profile stats
  updateProfileStats(userData.stats);
}

function updateProfileStats(stats) {
  const statElements = {
    eventsCreated: document.querySelector('#profile .metric-value.text-primary'),
    eventsAttended: document.querySelector('#profile .metric-value.text-green-400'),
    connections: document.querySelector('#profile .metric-value.text-purple-400'),
    rating: document.querySelector('#profile .metric-value.text-accent')
  };
  
  if (statElements.eventsCreated) statElements.eventsCreated.textContent = stats.eventsCreated || 0;
  if (statElements.eventsAttended) statElements.eventsAttended.textContent = stats.eventsAttended || 0;
  if (statElements.connections) statElements.connections.textContent = formatNumber(stats.connections || 0);
  if (statElements.rating) statElements.rating.textContent = (stats.rating || 0).toFixed(1);
}

async function loadUserEvents() {
  try {
    const response = await fetch('/api/users/events', {
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      }
    });
    
    const result = await response.json();
    if (result.success) {
      displayUserEvents(result.data);
    }
  } catch (error) {
    console.error('Error loading user events:', error);
  }
}

function displayUserEvents(userEvents) {
  const eventsContainer = document.querySelector('#profile-events .grid');
  if (!eventsContainer) return;
  
  if (userEvents.length === 0) {
    eventsContainer.innerHTML = `
      <div class="col-span-2 text-center py-8">
        <i class="fas fa-calendar-plus text-4xl text-gray-500 mb-4"></i>
        <p class="text-gray-400">No events created yet</p>
        <button onclick="show('create')" class="mt-4 px-6 py-2 bg-primary rounded-lg hover:bg-primary/80 transition-colors">
          Create Your First Event
        </button>
      </div>
    `;
    return;
  }
  
  eventsContainer.innerHTML = userEvents.map(event => `
    <div class="card">
      <div class="flex items-center justify-between mb-4">
        <h4 class="font-bold">${event.name}</h4>
        <span class="badge badge-${event.status === 'upcoming' ? 'tech' : event.status === 'ongoing' ? 'cultural' : 'academic'}">
          ${event.status.charAt(0).toUpperCase() + event.status.slice(1)}
        </span>
      </div>
      <p class="text-gray-400 text-sm mb-3">${event.description}</p>
      <div class="flex items-center justify-between text-sm text-gray-300">
        <span><i class="fas fa-users mr-1"></i>${event.registered}/${event.capacity} registered</span>
        <span><i class="fas fa-calendar mr-1"></i>${formatDate(event.date)}</span>
      </div>
      <div class="mt-3 flex gap-2">
        <button onclick="editEvent('${event._id}')" class="flex-1 px-3 py-1 bg-primary/20 text-primary rounded hover:bg-primary/30 transition-colors text-sm">
          <i class="fas fa-edit mr-1"></i>Edit
        </button>
        <button onclick="viewEventStats('${event._id}')" class="flex-1 px-3 py-1 bg-purple-500/20 text-purple-400 rounded hover:bg-purple-500/30 transition-colors text-sm">
          <i class="fas fa-chart-bar mr-1"></i>Stats
        </button>
      </div>
    </div>
  `).join('');
}

function editEvent(eventId) {
  showNotification('Event editing functionality coming soon!', 'info');
}

function viewEventStats(eventId) {
  showNotification('Event statistics view coming soon!', 'info');
}

// Enhanced Settings tab functionality
function showSettingsTab(tabName) {
  // Hide all settings tab contents
  document.querySelectorAll('.settings-tab-content').forEach(content => {
    content.classList.add('hidden');
  });
  
  // Remove active class from all tabs
  document.querySelectorAll('.settings-tab').forEach(tab => {
    tab.classList.remove('active', 'bg-primary', 'text-white');
    tab.classList.add('text-gray-300', 'hover:text-white', 'hover:bg-white/10');
  });
  
  // Show selected tab content
  const targetContent = document.getElementById(`settings-${tabName}`);
  if (targetContent) {
    targetContent.classList.remove('hidden');
  }
  
  // Add active class to selected tab
  const activeTab = document.getElementById(`settings${tabName.charAt(0).toUpperCase() + tabName.slice(1)}Tab`);
  if (activeTab) {
    activeTab.classList.add('active', 'bg-primary', 'text-white');
    activeTab.classList.remove('text-gray-300', 'hover:text-white', 'hover:bg-white/10');
  }
  
  // Load settings data if needed
  if (tabName === 'general' && isLoggedIn) {
    loadUserSettings();
  }
  
  console.log('Settings tab switched to:', tabName);
}

// Enhanced Profile tab functionality
function showProfileTab(tabName) {
  // Hide all profile tab contents
  document.querySelectorAll('.profile-tab-content').forEach(content => {
    content.classList.add('hidden');
  });
  
  // Remove active class from all profile tabs
  document.querySelectorAll('.profile-tab').forEach(tab => {
    tab.classList.remove('active', 'bg-primary', 'text-white');
    tab.classList.add('text-gray-300', 'hover:text-white', 'hover:bg-white/10');
  });
  
  // Show selected tab content
  const targetContent = document.getElementById(`profile-${tabName}`);
  if (targetContent) {
    targetContent.classList.remove('hidden');
  }
  
  // Add active class to selected tab
  const activeTab = document.getElementById(`profile${tabName.charAt(0).toUpperCase() + tabName.slice(1)}Tab`);
  if (activeTab) {
    activeTab.classList.add('active', 'bg-primary', 'text-white');
    activeTab.classList.remove('text-gray-300', 'hover:text-white', 'hover:bg-white/10');
  }
  
  console.log('Profile tab switched to:', tabName);
}

// Enhanced Settings Management
async function loadUserSettings() {
  if (!isLoggedIn || !currentUser) {
    show('login');
    return;
  }
  
  try {
    const response = await fetch('/api/users/settings', {
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      }
    });
    
    const result = await response.json();
    if (result.success) {
      populateSettingsForm(result.data);
    }
  } catch (error) {
    console.error('Error loading settings:', error);
    showNotification('Error loading settings', 'error');
  }
}

function populateSettingsForm(settings) {
  // General settings
  if (settings.general) {
    const firstNameInput = document.querySelector('#settings-general input[placeholder="Enter first name"]');
    const lastNameInput = document.querySelector('#settings-general input[placeholder="Enter last name"]');
    const emailInput = document.querySelector('#settings-general input[type="email"]');
    const bioTextarea = document.querySelector('#settings-general textarea');
    const universitySelect = document.querySelector('#settings-general select');
    
    if (firstNameInput) firstNameInput.value = settings.general.firstName || '';
    if (lastNameInput) lastNameInput.value = settings.general.lastName || '';
    if (emailInput) emailInput.value = settings.general.email || '';
    if (bioTextarea) bioTextarea.value = settings.general.bio || '';
    if (universitySelect) universitySelect.value = settings.general.university || '';
  }
}

// Enhanced Settings Management
async function loadUserSettings() {
  if (!isLoggedIn || !currentUser) {
    show('login');
    return;
  }
  
  try {
    const response = await fetch('/api/users/settings', {
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      }
    });
    
    const result = await response.json();
    if (result.success) {
      populateSettingsForm(result.data);
    }
  } catch (error) {
    console.error('Error loading settings:', error);
    showNotification('Error loading settings', 'error');
  }
}

function populateSettingsForm(settings) {
  // General settings
  if (settings.general) {
    const firstNameInput = document.querySelector('#settings-general input[placeholder="Enter first name"]');
    const lastNameInput = document.querySelector('#settings-general input[placeholder="Enter last name"]');
    const emailInput = document.querySelector('#settings-general input[type="email"]');
    const bioTextarea = document.querySelector('#settings-general textarea');
    const universitySelect = document.querySelector('#settings-general select');
    
    if (firstNameInput) firstNameInput.value = settings.general.firstName || '';
    if (lastNameInput) lastNameInput.value = settings.general.lastName || '';
    if (emailInput) emailInput.value = settings.general.email || '';
    if (bioTextarea) bioTextarea.value = settings.general.bio || '';
    if (universitySelect) universitySelect.value = settings.general.university || '';
  }
  
  // Notification settings
  if (settings.notifications) {
    const notificationCheckboxes = document.querySelectorAll('#settings-notifications input[type="checkbox"]');
    notificationCheckboxes.forEach((checkbox, index) => {
      const settingKeys = ['eventReminders', 'newEvents', 'emailDigest', 'marketing'];
      if (settingKeys[index]) {
        checkbox.checked = settings.notifications[settingKeys[index]] || false;
      }
    });
  }
  
  // Privacy settings
  if (settings.privacy) {
    const privacySelect = document.querySelector('#settings-privacy select');
    const privacyCheckboxes = document.querySelectorAll('#settings-privacy input[type="checkbox"]');
    
    if (privacySelect) privacySelect.value = settings.privacy.profileVisibility || 'university';
    
    privacyCheckboxes.forEach((checkbox, index) => {
      const settingKeys = ['eventHistory', 'contactInfo'];
      if (settingKeys[index]) {
        checkbox.checked = settings.privacy[settingKeys[index]] || false;
      }
    });
  }
}

async function saveGeneralSettings() {
  const formData = {
    firstName: document.querySelector('#settings-general input[placeholder="Enter first name"]').value,
    lastName: document.querySelector('#settings-general input[placeholder="Enter last name"]').value,
    email: document.querySelector('#settings-general input[type="email"]').value,
    bio: document.querySelector('#settings-general textarea').value,
    university: document.querySelector('#settings-general select').value
  };
  
  try {
    const response = await fetch('/api/users/settings/general', {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      },
      body: JSON.stringify(formData)
    });
    
    const result = await response.json();
    if (result.success) {
      // Update current user data
      currentUser = { ...currentUser, ...formData };
      updateAuthUI();
      showNotification('General settings saved successfully!', 'success');
    } else {
      showNotification(result.message || 'Failed to save settings', 'error');
    }
  } catch (error) {
    console.error('Error saving general settings:', error);
    showNotification('Error saving settings', 'error');
  }
}

async function saveNotificationSettings() {
  const checkboxes = document.querySelectorAll('#settings-notifications input[type="checkbox"]');
  const settings = {
    eventReminders: checkboxes[0]?.checked || false,
    newEvents: checkboxes[1]?.checked || false,
    emailDigest: checkboxes[2]?.checked || false,
    marketing: checkboxes[3]?.checked || false
  };
  
  try {
    const response = await fetch('/api/users/settings/notifications', {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      },
      body: JSON.stringify(settings)
    });
    
    const result = await response.json();
    if (result.success) {
      showNotification('Notification settings saved!', 'success');
    } else {
      showNotification(result.message || 'Failed to save notification settings', 'error');
    }
  } catch (error) {
    console.error('Error saving notification settings:', error);
    showNotification('Error saving notification settings', 'error');
  }
}

async function savePrivacySettings() {
  const privacySelect = document.querySelector('#settings-privacy select');
  const checkboxes = document.querySelectorAll('#settings-privacy input[type="checkbox"]');
  
  const settings = {
    profileVisibility: privacySelect?.value || 'university',
    eventHistory: checkboxes[0]?.checked || false,
    contactInfo: checkboxes[1]?.checked || false
  };
  
  try {
    const response = await fetch('/api/users/settings/privacy', {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      },
      body: JSON.stringify(settings)
    });
    
    const result = await response.json();
    if (result.success) {
      showNotification('Privacy settings saved!', 'success');
    } else {
      showNotification(result.message || 'Failed to save privacy settings', 'error');
    }
  } catch (error) {
    console.error('Error saving privacy settings:', error);
    showNotification('Error saving privacy settings', 'error');
  }
}

function switchTheme(theme) {
  document.documentElement.setAttribute('data-theme', theme);
  localStorage.setItem('theme', theme);
  showNotification(`Switched to ${theme} theme`, 'success');
  
  // Update theme selection UI
  document.querySelectorAll('#settings-appearance .cursor-pointer').forEach(themeCard => {
    themeCard.classList.remove('border-primary');
    themeCard.classList.add('border-white/20');
  });
  
  // Highlight selected theme
  const selectedThemeCard = document.querySelector(`#settings-appearance .cursor-pointer:nth-child(${theme === 'dark' ? '1' : theme === 'light' ? '2' : '3'})`);
  if (selectedThemeCard) {
    selectedThemeCard.classList.remove('border-white/20');
    selectedThemeCard.classList.add('border-primary');
  }
}

async function exportUserData() {
  try {
    const response = await fetch('/api/users/export', {
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      }
    });
    
    if (response.ok) {
      const blob = await response.blob();
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `campusevents-data-${new Date().toISOString().split('T')[0]}.json`;
      link.click();
      URL.revokeObjectURL(url);
      showNotification('Data exported successfully!', 'success');
    } else {
      showNotification('Failed to export data', 'error');
    }
  } catch (error) {
    console.error('Error exporting data:', error);
    showNotification('Error exporting data', 'error');
  }
}

async function deleteUserAccount() {
  const confirmed = confirm('Are you sure you want to delete your account? This action cannot be undone and will permanently delete all your data.');
  
  if (!confirmed) return;
  
  const doubleConfirm = prompt('Type "DELETE" to confirm account deletion:');
  if (doubleConfirm !== 'DELETE') {
    showNotification('Account deletion cancelled', 'info');
    return;
  }
  
  try {
    const response = await fetch('/api/users/delete', {
      method: 'DELETE',
      headers: {
        'Authorization': `Bearer ${localStorage.getItem('authToken')}`
      }
    });
    
    const result = await response.json();
    if (result.success) {
      // Clear all local data
      localStorage.clear();
      currentUser = null;
      isLoggedIn = false;
      updateAuthUI();
      
      showNotification('Account deleted successfully', 'success');
      show('home');
    } else {
      showNotification(result.message || 'Failed to delete account', 'error');
    }
  } catch (error) {
    console.error('Error deleting account:', error);
    showNotification('Error deleting account', 'error');
  }
}

// Enhanced notification system
function showNotification(message, type = 'info', duration = 3000) {
  const notification = document.createElement('div');
  notification.className = `notification notification-${type}`;
  
  const icons = {
    success: 'check-circle',
    error: 'exclamation-circle',
    info: 'info-circle',
    warning: 'exclamation-triangle'
  };
  
  notification.innerHTML = `
    <div class="flex items-center space-x-3">
      <i class="fas fa-${icons[type]} text-lg"></i>
      <div class="flex-1">
        <p class="font-medium">${message}</p>
      </div>
      <button onclick="this.parentElement.parentElement.remove()" class="text-current opacity-70 hover:opacity-100">
        <i class="fas fa-times"></i>
      </button>
    </div>
  `;
  
  document.body.appendChild(notification);
  
  // Animate in
  setTimeout(() => {
    notification.classList.add('show');
  }, 100);
  
  // Auto remove after duration
  setTimeout(() => {
    notification.classList.remove('show');
    setTimeout(() => {
      if (notification.parentElement) {
        notification.parentElement.removeChild(notification);
      }
    }, 300);
  }, duration);
}

// Enhanced search with debouncing
let searchTimeout;
function handleSearch() {
  clearTimeout(searchTimeout);
  searchTimeout = setTimeout(() => {
    renderEvents();
  }, 300);
}

// Smooth scroll to section within home page
function scrollToSection(sectionId) {
  console.log('scrollToSection called with:', sectionId);
  
  if (sectionId === 'home') {
    // Show home section and scroll to top
    show('home');
    return;
  }
  
  if (sectionId === 'about') {
    // Show home section first, then scroll to about section within it
    show('home');
    setTimeout(() => {
      const aboutSection = document.querySelector('#home #about');
      if (aboutSection) {
        aboutSection.scrollIntoView({ 
          behavior: 'smooth',
          block: 'start'
        });
        console.log('Scrolled to about section');
      } else {
        console.error('About section not found');
      }
    }, 100);
  }
}

// Theme switching functionality
function switchTheme(theme) {
  document.documentElement.setAttribute('data-theme', theme);
  localStorage.setItem('theme', theme);
  showNotification(`Switched to ${theme} theme`, 'success');
}

// Export user data functionality
function exportUserData() {
  const userData = {
    profile: {
      name: 'John Doe',
      email: 'john.doe@university.edu',
      university: 'MIT',
      bio: 'Computer Science student passionate about organizing tech events and building communities.'
    },
    events: events.filter(e => e.organizer === 'You'),
    stats: {
      eventsCreated: 12,
      eventsAttended: 47,
      connections: 1200,
      rating: 4.9
    }
  };
  
  const dataStr = JSON.stringify(userData, null, 2);
  const dataBlob = new Blob([dataStr], {type: 'application/json'});
  const url = URL.createObjectURL(dataBlob);
  
  const link = document.createElement('a');
  link.href = url;
  link.download = 'campusevents-data.json';
  link.click();
  
  URL.revokeObjectURL(url);
  showNotification('Data exported successfully!', 'success');
}

// Enhanced form validation
function validateForm(formId) {
  const form = document.getElementById(formId);
  const inputs = form.querySelectorAll('input[required], select[required], textarea[required]');
  let isValid = true;
  
  inputs.forEach(input => {
    if (!input.value.trim()) {
      input.classList.add('border-red-500');
      isValid = false;
    } else {
      input.classList.remove('border-red-500');
    }
  });
  
  return isValid;
}

// Auto-save functionality for settings
function autoSaveSettings() {
  const settings = {
    notifications: {
      eventReminders: document.querySelector('#settings-notifications input[type="checkbox"]:nth-of-type(1)').checked,
      newEvents: document.querySelector('#settings-notifications input[type="checkbox"]:nth-of-type(2)').checked,
      emailDigest: document.querySelector('#settings-notifications input[type="checkbox"]:nth-of-type(3)').checked,
      marketing: document.querySelector('#settings-notifications input[type="checkbox"]:nth-of-type(4)').checked
    },
    privacy: {
      profileVisibility: document.querySelector('#settings-privacy select').value,
      eventHistory: document.querySelector('#settings-privacy input[type="checkbox"]:nth-of-type(1)').checked,
      contactInfo: document.querySelector('#settings-privacy input[type="checkbox"]:nth-of-type(2)').checked
    }
  };
  
  localStorage.setItem('userSettings', JSON.stringify(settings));
  showNotification('Settings saved automatically', 'success', 2000);
}

// Load saved settings
function loadSettings() {
  const savedSettings = localStorage.getItem('userSettings');
  if (savedSettings) {
    const settings = JSON.parse(savedSettings);
    // Apply saved settings to form elements
    // This would be implemented based on the specific form structure
  }
}

// Enhanced event registration with confirmation
function registerForEvent(eventName) {
  const event = events.find(e => e.name === eventName);
  if (!event) {
    showNotification('Event not found!', 'error');
    return;
  }
  
  if (event.registered >= event.capacity) {
    showNotification('Event is full!', 'error');
    return;
  }
  
  // Show confirmation dialog
  const confirmed = confirm(`Are you sure you want to register for "${eventName}"?`);
  if (confirmed) {
    event.registered++;
    renderEvents();
    updateEventStats();
    showNotification(`Successfully registered for ${eventName}!`, 'success');
    
    // Add to user's registered events (in a real app, this would be saved to backend)
    const registeredEvents = JSON.parse(localStorage.getItem('registeredEvents') || '[]');
    registeredEvents.push({
      eventName: eventName,
      registrationDate: new Date().toISOString()
    });
    localStorage.setItem('registeredEvents', JSON.stringify(registeredEvents));
  }
}

// Initialize events and stats
try {
  renderEvents();
  updateEventStats();
  console.log('âœ… Events and stats initialized');
} catch (error) {
  console.error('âŒ Failed to initialize events/stats:', error);
}



</script>

</body>
</html>